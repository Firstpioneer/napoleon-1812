import{f,k as y,g as J,m as Qe,c as v,i as R,h as t,a as U,t as d,q as ne,n as x,F as ce,s as ve,C as $,H as Je,T as K,u as et,o as p,j as H}from"./vendor-Clkip-va.js";import{_ as tt}from"./index-sRwKBGqk.js";const re={ADV_VILNA:{icon:"ğŸ›ï¸",title:"ç»´å°”çº½æ–¯çš„è¯±æƒ‘",type:"logistics",story:"ç«‹é™¶å®›è´µæ—çƒ­æƒ…æ¬¢è¿ä½ ï¼Œæä¾›å®´ä¼šå’Œä¼‘æ¯ã€‚ä½†ä¿„å†›æ­£åœ¨è¿œæ–¹é›†ç»“ï¼Œæ—¶é—´å®è´µã€‚",historicalNote:"å†å²ä¸Šæ‹¿ç ´ä»‘åœ¨ç»´å°”çº½æ–¯åœç•™äº†18å¤©ï¼Œè¿™ç»™äº†ä¿„å†›å®è´µçš„é›†ç»“æ—¶é—´ã€‚",choiceA:{label:"åœç•™ä¼‘æ•´3å¤©",hint:"æŸå¤±3000äººï¼Œå£«æ°”+15ã€ä½†æ’¤é€€æ—¶å¤©æ°”æ›´å†·ã€‘",effect:{discipline:15,day:3,troops:-3e3},chainEffect:{slowAdvance:!0,delayDays:3},chainWarning:"âš ï¸ å»¶è¯¯å°†å¯¼è‡´æ’¤é€€æ—¶é¢ä¸´æ›´ä¸¥é…·çš„å¯’å†¬"},choiceB:{label:"ç«‹å³è¿½å‡»",hint:"æŸå¤±8000äººï¼Œä¿æŒè¿›æ”»èŠ‚å¥",effect:{discipline:-5,troops:-8e3},chainEffect:{fastAdvance:!0},chainBonus:"âœ“ å¿«é€Ÿæ¨è¿›ï¼Œæ’¤é€€æ—¶æœ‰æ›´å¤šæ—¶é—´"}},ADV_SCORCHED:{icon:"ğŸ”¥",title:"ç„¦åœŸæ”¿ç­–çš„å¼€å§‹",type:"logistics",story:"ä¿„å†›æ’¤é€€å‰çƒ§æ¯äº†æ‰€æœ‰ç²®ä»“å’Œæ‘åº„ã€‚å‰æ–¹50å…¬é‡Œå†…æ²¡æœ‰ä»»ä½•è¡¥ç»™ã€‚",historicalNote:"ä¿„å†›çš„ç„¦åœŸæ”¿ç­–æ˜¯å¯¼è‡´æ³•å†›éæˆ˜æ–—å‡å‘˜çš„ä¸»è¦åŸå› ä¹‹ä¸€ã€‚",choiceA:{label:"å®°æ€æˆ˜é©¬å……é¥¥",hint:"æŸå¤±3000äººã€åç»­æˆ˜æ–—æŸå¤±+20%ï¼Œè¢«è¿½å‡»æ¦‚ç‡+50%ã€‘",effect:{troops:-3e3,discipline:-3},chainEffect:{horsesSlaughtered:!0},chainWarning:"âš ï¸ å¤±å»éª‘å…µä¼˜åŠ¿ï¼Œåç»­æˆ˜æ–—å’Œæ’¤é€€å°†æ›´åŠ è‰°éš¾"},choiceB:{label:"å¼ºè¡Œå†›å¯»æ‰¾è¡¥ç»™",hint:"é¥¿æ­»5%å…µåŠ›ï¼Œä½†ä¿ç•™éª‘å…µæˆ˜åŠ›",effect:{troopsPct:-5,discipline:-8,day:1}}},ADV_SMOLENSK:{icon:"âš”ï¸",title:"æ–¯æ‘©æ£±æ–¯å…‹æ”»åŸæˆ˜",type:"battle",story:"ä¿„å†›æ®åŸæ­»å®ˆã€‚åŸå¢™åšå›ºï¼Œç«ç‚®è½°é¸£ã€‚è¿™æ˜¯è¿›æ”»é˜¶æ®µçš„ç¬¬ä¸€æ¬¡é‡å¤§æˆ˜æ–—ã€‚",historicalNote:"å†å²ä¸Šè¿™åœºæˆ˜å½¹æŒç»­3å¤©ï¼Œæ³•å†›æŸå¤±çº¦10,000äººï¼ŒåŸå¸‚è¢«å¤§ç«æ‘§æ¯ã€‚",choiceA:{label:"å¼ºæ”»åŸæ± ",hint:"æŸå¤±12000äººï¼Œå¿«é€Ÿå é¢†ã€ä¿„å†›å£«æ°”å—æŒ«ã€‘",effect:{troops:-12e3,discipline:5,health:-5},chainEffect:{russiansMoraleDown:!0},chainBonus:"âœ“ ä¿„å†›å£«æ°”å—æŒ«ï¼Œåç»­æˆ˜æ–—æŸå¤±-10%"},choiceB:{label:"å›´å›°ç­‰å¾…",hint:"æŸå¤±4000äººï¼Œå»¶è¯¯4å¤©ã€æ’¤é€€æ—¶å¤©æ°”æ›´å†·ã€‘",effect:{troops:-4e3,day:4,discipline:-10},chainEffect:{slowAdvance:!0,delayDays:4},chainWarning:"âš ï¸ å»¶è¯¯å°†å¯¼è‡´æ’¤é€€æ—¶é¢ä¸´æ›´ä¸¥é…·çš„å¯’å†¬"}},ADV_BORODINO:{icon:"ğŸ’€",title:"åšç½—å­£è¯ºè¡€æˆ˜",type:"battle",story:"åº“å›¾ä½å¤«ç»ˆäºå†³å®šè¿æˆ˜ã€‚è¿™å°†æ˜¯æ‹¿ç ´ä»‘æˆ˜äº‰ä¸­æœ€è¡€è…¥çš„ä¸€å¤©ã€‚åŒæ–¹æŠ•å…¥è¶…è¿‡25ä¸‡å…µåŠ›ã€‚",historicalNote:"å†å²ä¸Šè¿™åœºæˆ˜å½¹é€ æˆçº¦70,000äººä¼¤äº¡ï¼Œæ˜¯æ‹¿ç ´ä»‘æˆ˜äº‰ä¸­æœ€è¡€è…¥çš„å•æ—¥æˆ˜æ–—ã€‚",choiceA:{label:"å…¨çº¿è¿›æ”»",hint:"æŸå¤±28000äººã€å‡å°‘æ’¤é€€æ—¶éªšæ‰°50%ã€‘",effect:{troops:-28e3,discipline:-5,health:-10},chainEffect:{russiansCrushed:!0},chainBonus:"âœ“ ä¿„å†›å…ƒæ°”å¤§ä¼¤ï¼Œæ’¤é€€æ—¶éªšæ‰°å‡å°‘50%"},choiceB:{label:"æŠ•å…¥è¿‘å«å†›",hint:"æŸå¤±38000äººï¼Œæ­¼ç­ä¿„å†›ã€è¿‘å«å†›æŸè€—ä¸¥é‡ã€‘",effect:{troops:-38e3,discipline:10,health:-15},chainEffect:{guardsUsedEarly:!0,russiansCrushed:!0},chainWarning:"âš ï¸ è¿‘å«å†›æŸè€—ä¸¥é‡ï¼Œåˆ«åˆ—æ´¥çº³æ²³æ–­åå°†é¢å¤–æŸå¤±6000äºº"}},RET_MALOYAROSLAVETS:{icon:"ğŸ—ºï¸",title:"å—è·¯è¿˜æ˜¯åŒ—è·¯ï¼Ÿ",type:"critical",story:"åº“å›¾ä½å¤«å°é”äº†å—è·¯ã€‚å—è·¯æœ‰æœªè¢«æ å¤ºçš„è¡¥ç»™ï¼Œä½†éœ€è¦æˆ˜æ–—ã€‚åŒ—è·¯æ˜¯æ¥æ—¶çš„åºŸå¢Ÿã€‚",historicalNote:"å†å²ä¸Šæ‹¿ç ´ä»‘é€‰æ‹©äº†åŒ—è·¯ï¼Œè¿™æ„å‘³ç€æ²¿é€”æ²¡æœ‰ä»»ä½•è¡¥ç»™ã€‚",choiceA:{label:"å¼ºæ”»å—è·¯",hint:"æŸå¤±8000äººã€å‡å°‘é¥¥é¥¿äº‹ä»¶50%ï¼Œå†»æ­»å‡å°‘30%ã€‘",effect:{troops:-8e3,discipline:-8,day:2},chainEffect:{tookSouthRoute:!0,hasSupplies:!0},chainBonus:"âœ“ è·å¾—è¡¥ç»™å’Œå†¬è£…ï¼Œé¥¥é¥¿å’Œå†»æ­»å¤§å¹…å‡å°‘"},choiceB:{label:"èµ°åŒ—è·¯åŸè·¯è¿”å›",hint:"æŸå¤±3000äººï¼Œä½†æ²¿é€”æ— è¡¥ç»™ã€é¥¥é¥¿å†»æ­»å¢åŠ ã€‘",effect:{troops:-3e3,discipline:-5},chainEffect:{noSupplies:!0},chainWarning:"âš ï¸ æ²¿é€”æ— è¡¥ç»™ï¼Œé¥¥é¥¿å’Œå†»æ­»å°†å¤§å¹…å¢åŠ "}},RET_FIRST_SNOW:{icon:"â„ï¸",title:"ä¸¥å¯’é™ä¸´",type:"disaster",story:"æ¸©åº¦éª¤é™è‡³-15Â°Cï¼Œå£«å…µä»¬æ²¡æœ‰å†¬è£…ï¼Œé©¬åŒ¹åœ¨å†°é¢ä¸Šæ‰“æ»‘ã€‚æ¯å¤©éƒ½æœ‰äººå†»æ­»åœ¨è·¯è¾¹ã€‚",historicalNote:"ç¬¬ä¸€åœºå¤§é›ªæ ‡å¿—ç€ç¾éš¾çš„çœŸæ­£å¼€å§‹ã€‚æ²¡æœ‰å†¬è£…çš„å£«å…µå¼€å§‹æˆæ‰¹å†»æ­»ã€‚",choiceA:{label:"å‰¥æ­»è€…è¡£ç‰©å¾¡å¯’",hint:"å†»æ­»3%å…µåŠ›ï¼Œå£«æ°”-25ã€ä½†åç»­å†»æ­»å‡å°‘40%ã€‘",effect:{troopsPct:-3,discipline:-25},chainEffect:{hasWarmClothes:!0},chainBonus:"âœ“ è·å¾—å¾¡å¯’è¡£ç‰©ï¼Œåç»­å†»æ­»å‡å°‘40%"},choiceB:{label:"åŠ å¿«è¡Œå†›é€Ÿåº¦",hint:"å†»æ­»6%å…µåŠ›ï¼Œå£«æ°”-10ã€æ— é•¿æœŸæ”¶ç›Šã€‘",effect:{troopsPct:-6,discipline:-10}}},RET_COSSACKS:{icon:"ğŸ",title:"å“¥è¨å…‹çš„ç‹¼ç¾¤æˆ˜æœ¯",type:"battle",story:"å“¥è¨å…‹éª‘å…µåƒç‹¼ç¾¤ä¸€æ ·å›´ç»•å¤§å†›ï¼Œä¸æ–­è¢­å‡»è½å•è€…å’Œè¡¥ç»™é˜Ÿã€‚åå«éƒ¨é˜Ÿè¯·æ±‚æ”¯æ´ã€‚",historicalNote:"å“¥è¨å…‹éª‘å…µçš„æ¸¸å‡»æˆ˜æœ¯ç»™æ’¤é€€ä¸­çš„æ³•å†›é€ æˆäº†å·¨å¤§æŸå¤±ã€‚",choiceA:{label:"æ´¾è¿‘å«å†›æ”¯æ´åå«",hint:"æŸå¤±5000äººã€åç»­éªšæ‰°å‡å°‘40%ï¼Œå£«æ°”+10ã€‘",effect:{troops:-5e3,discipline:10},chainEffect:{rearguardProtected:!0},chainBonus:"âœ“ åå«å¾—åˆ°ä¿æŠ¤ï¼Œåç»­éªšæ‰°å‡å°‘40%"},choiceB:{label:"æŠ›å¼ƒåå«åŠ é€Ÿå‰è¿›",hint:"æŸå¤±2000äººã€å“—å˜æ¦‚ç‡+30%ï¼Œé€ƒå…µ+50%ã€‘",effect:{troops:-2e3,discipline:-20},chainEffect:{abandonedRearguard:!0},chainWarning:"âš ï¸ æŠ›å¼ƒæˆ˜å‹çš„è¡Œä¸ºå°†å¯¼è‡´å“—å˜å’Œé€ƒå…µå¤§å¢"}},RET_KRASNOI:{icon:"ğŸ’€",title:"å…‹æ‹‰æ–¯è¯ºè€¶çš„ç»å¢ƒ",type:"critical",story:"å†…ä¼Šå…ƒå¸…çš„åå«è¢«ä¿„å†›åŒ…å›´ã€‚ä»–è¯·æ±‚æ”¯æ´ï¼Œä½†å›æ´å¯èƒ½è®©ä¸»åŠ›é™·å…¥é™©å¢ƒã€‚",historicalNote:'å†å²ä¸Šå†…ä¼Šç‡é¢†æ®‹éƒ¨è¸ç€å†°æ²³çªå›´ï¼Œè¢«æ‹¿ç ´ä»‘ç§°ä¸º"å‹‡å£«ä¸­çš„å‹‡è€…"ã€‚',choiceA:{label:"å›æ´å†…ä¼Š",hint:"æŸå¤±7000äººã€åç»­æˆ˜æ–—æŸå¤±-15%ï¼Œå£«æ°”+15ã€‘",effect:{troops:-7e3,discipline:15,health:-10},chainEffect:{savedNey:!0},chainBonus:"âœ“ å†…ä¼Šçš„å‹‡æ°”é¼“èˆå…¨å†›ï¼Œåç»­æˆ˜æ–—æŸå¤±å‡å°‘"},choiceB:{label:"æ”¾å¼ƒåå«ç»§ç»­æ’¤é€€",hint:"æŸå¤±3000äººã€å£«æ°”-35ï¼Œå“—å˜æ¦‚ç‡+40%ã€‘",effect:{troops:-3e3,discipline:-35},chainEffect:{abandonedNey:!0},chainWarning:"âš ï¸ æ”¾å¼ƒè‹±é›„å°†ä¸¥é‡æ‰“å‡»å£«æ°”ï¼Œå“—å˜é£é™©å¤§å¢"}},RET_BEREZINA:{icon:"ğŸŒŠ",title:"åˆ«åˆ—æ´¥çº³æ²³çš„å™©æ¢¦",type:"critical",story:"æ²³æ°´æœªå®Œå…¨å°å†»ï¼Œä¸‰æ”¯ä¿„å†›æ­£åœ¨åˆå›´ã€‚å·¥å…µå¯ä»¥æ¶æ¡¥ï¼Œä½†éœ€è¦æœ‰äººæ–­åã€‚",historicalNote:"å†å²ä¸Šçº¦25,000äººåœ¨æ¸¡æ²³æ—¶æ­»äº¡æˆ–è¢«ä¿˜ï¼Œè¿™æ˜¯æ’¤é€€ä¸­æœ€æƒ¨çƒˆçš„æ—¶åˆ»ã€‚",choiceA:{label:"è€è¿‘å«å†›æ–­å",hint:"æŸå¤±8000äººã€ä¿æŠ¤ä¸»åŠ›å®‰å…¨æ¸¡æ²³ã€‘",effect:{troops:-8e3,discipline:-10,health:-15},chainCondition:"guardsUsedEarly",chainPenalty:{troops:-6e3},chainPenaltyHint:"ï¼ˆè¿‘å«å†›å·²æŸè€—ï¼Œé¢å¤–æŸå¤±6000äººï¼‰"},choiceB:{label:"è®©éæˆ˜æ–—äººå‘˜æ–­å",hint:"æŸå¤±4000äººã€å£«æ°”-40ï¼Œäººé“ç¾éš¾ã€‘",effect:{troops:-4e3,discipline:-40},chainEffect:{humanDisaster:!0},chainWarning:"âš ï¸ äººé“ç¾éš¾å°†å¯¼è‡´å£«æ°”å´©æºƒ"}},RET_NAPOLEON_LEAVES:{icon:"ğŸ¦…",title:"çš‡å¸çš„æŠ‰æ‹©",type:"critical",story:'12æœˆ5æ—¥ï¼Œæ‹¿ç ´ä»‘å†³å®šç§˜å¯†è¿”å›å·´é»ã€‚ä»–è¯´ï¼š"æˆ‘åªèƒ½ä»æœä¼Šå‹’é‡Œå®«å¼•èµ·æ¬§æ´²çš„æ•¬ç•ã€‚"',historicalNote:"å†å²ä¸Šæ‹¿ç ´ä»‘ç¡®å®åœ¨æ­¤æ—¶ç¦»å¼€äº†å†›é˜Ÿï¼Œå°†æŒ‡æŒ¥æƒäº¤ç»™ç¼ªæ‹‰å…ƒå¸…ã€‚",choiceA:{label:"è®©ä»–èµ°",hint:"å£«æ°”-30ï¼Œé€ƒå…µ5%ã€ä¿ä½å¸å›½ã€‘",effect:{discipline:-30,troopsPct:-5},chainEffect:{napoleonLeft:!0}},choiceB:{label:"æ³æ±‚ä»–ç•™ä¸‹",hint:"å£«æ°”+10ï¼Œçš‡å¸å¥åº·-25ã€å¸å›½å¯èƒ½å´©æºƒã€‘",effect:{discipline:10,health:-25},chainEffect:{napoleonStayed:!0},chainBonus:"âœ“ çš‡å¸ç•™ä¸‹é¼“èˆå£«æ°”"}}},at=[{id:"ADV_RANDOM_TYPHUS",title:"ä¼¤å¯’çˆ†å‘",icon:"ğŸ¦ ",type:"disaster",probability:.25,trigger:n=>n.phase==="ADVANCE",story:"å†›è¥ä¸­çˆ†å‘ä¼¤å¯’ã€‚åŒ»ç”Ÿå»ºè®®éš”ç¦»ç—…æ‚£ï¼Œä½†è¿™ä¼šæ‹–æ…¢è¡Œå†›é€Ÿåº¦ã€‚",historicalNote:"ä¼¤å¯’å’Œç—¢ç–¾æ˜¯æ³•å†›æœ€å¤§çš„æ€æ‰‹ï¼Œé€ æˆçš„æ­»äº¡äººæ•°è¶…è¿‡æˆ˜æ–—ã€‚",choiceA:{label:"éš”ç¦»æ²»ç–—",hint:"ç—…æ­»2%å…µåŠ›ï¼Œå»¶è¯¯2å¤©ã€ä½†ç–«æƒ…å¾—åˆ°æ§åˆ¶ã€‘",effect:{troopsPct:-2,day:2,discipline:5},chainEffect:{diseaseControlled:!0},chainBonus:"âœ“ ç–«æƒ…å¾—åˆ°æ§åˆ¶ï¼Œåç»­ç–¾ç—…äº‹ä»¶å‡å°‘"},choiceB:{label:"ç»§ç»­å‰è¿›",hint:"ç—…æ­»4%å…µåŠ›ã€ç–«æƒ…æ‰©æ•£ï¼Œåç»­ç—…æ­»å¢åŠ ã€‘",effect:{troopsPct:-4,discipline:-8},chainEffect:{diseaseSpread:!0},chainWarning:"âš ï¸ ç–«æƒ…æ‰©æ•£ï¼Œåç»­ç–¾ç—…æŸå¤±å¢åŠ 50%"}},{id:"ADV_RANDOM_SUPPLY_RAID",title:"è¡¥ç»™è½¦é˜Ÿè¢«è¢­",icon:"ğŸ¯",type:"raid",probability:.2,trigger:(n,a)=>{if(n.phase!=="ADVANCE")return!1;const i=a!=null&&a.russiansCrushed?.5:1;return Math.random()<.2*i},story:"å“¥è¨å…‹éª‘å…µè¢­å‡»äº†è¡¥ç»™è½¦é˜Ÿã€‚æ˜¯å¦æ´¾å…µæŠ¤é€ï¼Ÿ",choiceA:{label:"æ´¾éª‘å…µè¿½å‡»",hint:"æŸå¤±2000äººã€ç¼´è·ä¿„å†›æƒ…æŠ¥ã€‘",effect:{troops:-2e3,discipline:8},chainEffect:{hasIntel:!0},chainBonus:"âœ“ è·å¾—ä¿„å†›æƒ…æŠ¥ï¼Œåç»­ä¼å‡»æ¦‚ç‡é™ä½"},choiceB:{label:"æ”¾å¼ƒè¿½å‡»",hint:"æŸå¤±500äººï¼Œä¸¢å¤±è¡¥ç»™",effect:{troops:-500,discipline:-5}}},{id:"ADV_RANDOM_DESERTION",title:"é€ƒå…µæ½®",icon:"ğŸƒ",type:"moral",probability:.15,trigger:n=>n.phase==="ADVANCE"&&n.discipline<60,story:"å¤§é‡å£«å…µè¶å¤œè‰²é€ƒè·‘ã€‚æ˜¯å¦è¿½æ•ï¼Ÿ",choiceA:{label:"è¿½æ•å¤„å†³",hint:"æŸå¤±500äººã€æ¢å¤çºªå¾‹ï¼Œéœ‡æ…‘é€ƒå…µã€‘",effect:{troops:-500,discipline:15},chainEffect:{strictDiscipline:!0},chainBonus:"âœ“ ä¸¥æ˜å†›çºªï¼Œåç»­é€ƒå…µå‡å°‘50%"},choiceB:{label:"æ”¾ä»»ä¸ç®¡",hint:"é€ƒå…µ3%ã€åç»­é€ƒå…µå¢åŠ ã€‘",effect:{troopsPct:-3,discipline:-10},chainEffect:{looseDiscipline:!0},chainWarning:"âš ï¸ å†›çºªæ¶£æ•£ï¼Œåç»­é€ƒå…µå¢åŠ 50%"}},{id:"ADV_RANDOM_CAVALRY_ADVANTAGE",title:"éª‘å…µè¿½å‡»æˆ˜",icon:"ğŸ",type:"battle",probability:.15,trigger:(n,a)=>n.phase==="ADVANCE"&&!(a!=null&&a.horsesSlaughtered),story:"ä¾¦å¯Ÿéª‘å…µå‘ç°ä¿„å†›åå«è½å•ï¼Œæ˜¯å¦è¿½å‡»ï¼Ÿ",choiceA:{label:"éª‘å…µè¿½å‡»",hint:"æŸå¤±1500äººã€ä¿˜è·ä¿„å†›è¡¥ç»™ã€‘",effect:{troops:-1500,discipline:12},chainBonus:"âœ“ ç¼´è·è¡¥ç»™ï¼Œå£«æ°”å¤§æŒ¯"},choiceB:{label:"ä¿æŒé˜µå‹",hint:"æ— æŸå¤±ï¼Œé”™è¿‡æœºä¼š",effect:{discipline:-3}}}],st=[{id:"RET_RANDOM_FROZEN",title:"å†»æ­»æ½®",icon:"ğŸ§Š",type:"disaster",probability:.3,trigger:(n,a)=>{if(n.phase!=="RETREAT"||n.temperature>=-15)return!1;const i=a!=null&&a.hasWarmClothes?.6:1,h=a!=null&&a.tookSouthRoute?.7:1;return Math.random()<.3*i*h},story:"è·¯è¾¹åˆå¤šäº†æ•°ç™¾å…·å†»åƒµçš„å°¸ä½“ã€‚å£«å…µä»¬éº»æœ¨åœ°èµ°è¿‡ï¼Œä¸å†æœ‰äººåœä¸‹ã€‚",isAutoTrigger:!0,effect:{troopsPct:-3,discipline:-5},message:"ä¸¥å¯’å¤ºèµ°äº†æ›´å¤šç”Ÿå‘½...å†»æ­»3%å…µåŠ›"},{id:"RET_RANDOM_COSSACK_RAID",title:"å“¥è¨å…‹è¢­å‡»",icon:"ğŸ",type:"raid",probability:.25,trigger:(n,a)=>{if(n.phase!=="RETREAT")return!1;let i=1;return a!=null&&a.russiansCrushed&&(i*=.5),a!=null&&a.rearguardProtected&&(i*=.6),Math.random()<.25*i},story:"å“¥è¨å…‹éª‘å…µçªç„¶è¢­å‡»äº†é˜Ÿä¼ä¾§ç¿¼ï¼",choiceA:{label:"ç»„ç»‡é˜²å¾¡",hint:"æŸå¤±2500äººï¼Œå‡»é€€æ•Œå†›",effect:{troops:-2500,discipline:5}},choiceB:{label:"åŠ é€Ÿé€ƒè·‘",hint:"æŸå¤±1500äººï¼Œä¸¢å¼ƒè¾é‡",effect:{troops:-1500,discipline:-12}}},{id:"RET_RANDOM_PURSUIT",title:"ä¿„å†›è¿½å‡»",icon:"âš”ï¸",type:"pursuit",probability:.2,trigger:(n,a)=>{if(n.phase!=="RETREAT")return!1;let i=1;return a!=null&&a.horsesSlaughtered&&(i*=1.5),a!=null&&a.russiansCrushed&&(i*=.6),Math.random()<.2*i},story:"ä¿„å†›æ­£è§„å†›è¿½ä¸Šäº†æ’¤é€€çš„é˜Ÿä¼ï¼",choiceA:{label:"ç»„ç»‡é˜²å¾¡æˆ˜",hint:"æŸå¤±4000äººï¼Œå‡»é€€è¿½å…µ",effect:{troops:-4e3,discipline:8}},choiceB:{label:"ä¸¢å¼ƒè¾é‡é€ƒè·‘",hint:"æŸå¤±2000äººï¼Œä¸¢å¤±è¡¥ç»™",effect:{troops:-2e3,discipline:-15}}},{id:"RET_RANDOM_FOOD_OUT",title:"é£Ÿç‰©è€—å°½",icon:"ğŸ–",type:"supply",probability:.25,trigger:(n,a)=>{if(n.phase!=="RETREAT")return!1;let i=1;return a!=null&&a.tookSouthRoute&&(i*=.5),a!=null&&a.noSupplies&&(i*=1.5),Math.random()<.25*i},story:"æœ€åçš„å£ç²®å·²ç»åƒå®Œã€‚å£«å…µä»¬é¥¥è‚ è¾˜è¾˜ã€‚",choiceA:{label:"å¼ºè¡Œè§…é£Ÿ",hint:"é¥¿æ­»2%å…µåŠ›ã€ä½†è·å¾—é£Ÿç‰©ï¼Œå‡å°‘åç»­é¥¥é¥¿ã€‘",effect:{troopsPct:-2,discipline:-5},chainEffect:{foundFood:!0},chainBonus:"âœ“ æ‰¾åˆ°é£Ÿç‰©ï¼Œåç»­é¥¥é¥¿äº‹ä»¶å‡å°‘"},choiceB:{label:"ç»§ç»­å‰è¿›",hint:"é¥¿æ­»4%å…µåŠ›ï¼Œä¸åœç•™",effect:{troopsPct:-4,discipline:-8}}},{id:"RET_RANDOM_MUTINY_SMALL",title:"å£«å…µäº’ç›¸æ®‹æ€",icon:"âš”ï¸",type:"horror",probability:.2,trigger:(n,a)=>{if(n.phase!=="RETREAT"||n.discipline>=40)return!1;let i=1;return a!=null&&a.abandonedRearguard&&(i*=1.5),a!=null&&a.abandonedNey&&(i*=1.4),a!=null&&a.humanDisaster&&(i*=1.3),Math.random()<.2*i},story:"ä¸ºäº†äº‰å¤ºé£Ÿç‰©å’Œè¡£ç‰©ï¼Œå£«å…µä»¬å¼€å§‹äº’ç›¸æ®‹æ€ã€‚",choiceA:{label:"ä¸¥å‰é•‡å‹",hint:"æŸå¤±1000äººï¼Œæ¢å¤ç§©åº",effect:{troops:-1e3,discipline:12}},choiceB:{label:"ççœ¼é—­çœ¼",hint:"æŸå¤±2%å…µåŠ›ï¼Œæ··ä¹±åŠ å‰§",effect:{troopsPct:-2,discipline:-18}}},{id:"RET_RANDOM_DESERTION",title:"å¤§è§„æ¨¡é€ƒäº¡",icon:"ğŸƒ",type:"moral",probability:.2,trigger:(n,a)=>{if(n.phase!=="RETREAT"||n.discipline>=50)return!1;let i=1;return a!=null&&a.abandonedRearguard&&(i*=1.5),a!=null&&a.looseDiscipline&&(i*=1.5),a!=null&&a.strictDiscipline&&(i*=.5),Math.random()<.2*i},story:"å¤§æ‰¹å£«å…µè¶å¤œè‰²é€ƒæ•£ï¼Œæ¶ˆå¤±åœ¨é›ªåŸä¸­ã€‚",isAutoTrigger:!0,effect:{troopsPct:-3,discipline:-8},message:"åˆæœ‰3%å£«å…µé€ƒæ•£ï¼Œæ¶ˆå¤±åœ¨é›ªåŸä¸­..."},{id:"RET_RANDOM_SUPPLY_FOUND",title:"å‘ç°ä¿„å†›è¡¥ç»™ç«™",icon:"ğŸ",type:"logistics",probability:.1,trigger:(n,a)=>{if(n.phase!=="RETREAT")return!1;const i=a!=null&&a.hasIntel?1.5:1;return Math.random()<.1*i},story:"ä¾¦å¯Ÿå…µå‘ç°äº†ä¸€ä¸ªè¢«é—å¼ƒçš„ä¿„å†›è¡¥ç»™ç«™ï¼",isAutoTrigger:!0,effect:{discipline:15},message:"å‘ç°ä¿„å†›è¡¥ç»™ç«™ï¼å£«æ°”å¤§æŒ¯ï¼"},{id:"RET_RANDOM_NEY_RALLY",title:"å†…ä¼Šçš„é¼“èˆ",icon:"âš”ï¸",type:"morale",probability:.2,trigger:(n,a)=>n.phase==="RETREAT"&&(a==null?void 0:a.savedNey),story:"å†…ä¼Šå…ƒå¸…äº²è‡ªèµ°åœ¨é˜Ÿä¼æœ€åï¼Œç”¨ä»–çš„å‹‡æ°”é¼“èˆç€æ¯ä¸€ä¸ªå£«å…µã€‚",isAutoTrigger:!0,effect:{discipline:12},message:"å†…ä¼Šå…ƒå¸…çš„å‹‡æ°”é¼“èˆäº†å…¨å†›ï¼å£«æ°”+12"},{id:"RET_RANDOM_DISEASE_OUTBREAK",title:"ç–«ç—…å†æ¬¡çˆ†å‘",icon:"ğŸ¦ ",type:"disaster",probability:.15,trigger:(n,a)=>{if(n.phase!=="RETREAT")return!1;let i=1;return a!=null&&a.diseaseSpread&&(i*=1.5),a!=null&&a.diseaseControlled&&(i*=.5),Math.random()<.15*i},story:"ä¼¤å¯’å’Œç—¢ç–¾å†æ¬¡åœ¨å†›ä¸­è”“å»¶ã€‚",isAutoTrigger:!0,effect:{troopsPct:-2,discipline:-5},message:"ç–«ç—…è”“å»¶ï¼Œç—…æ­»2%å…µåŠ›..."}],lt=[{id:"RANDOM_FROZEN",icon:"ğŸ§Š",trigger:(n,a)=>{if(n.phase!=="RETREAT"||n.temperature>=-15)return!1;let i=.2;return a!=null&&a.hasWarmClothes&&(i*=.6),a!=null&&a.tookSouthRoute&&(i*=.7),Math.random()<i},effect:{discipline:-5,troopsPct:-1.5},message:"è·¯è¾¹åˆå¤šäº†æ•°ç™¾å…·å†»åƒµçš„å°¸ä½“...å†»æ­»1.5%"},{id:"RANDOM_GUERRILLA",icon:"ğŸ”ª",trigger:(n,a)=>{if(n.phase!=="RETREAT")return!1;const i=a!=null&&a.russiansCrushed?.5:1;return Math.random()<.15*i},effect:{troops:-1e3,discipline:-3},message:"æ¸¸å‡»é˜Ÿè¢­å‡»äº†è¡¥ç»™é˜Ÿï¼ŒæŸå¤±1000äººã€‚"},{id:"RANDOM_FROSTBITE",icon:"â„ï¸",trigger:(n,a)=>{if(n.phase!=="RETREAT"||n.temperature>=-25)return!1;let i=.25;return a!=null&&a.hasWarmClothes&&(i*=.6),Math.random()<i},effect:{troopsPct:-2,discipline:-5},message:"æå¯’å¤©æ°”ï¼å†»æ­»2%å…µåŠ›..."}],b={ADVANCE:{BASE_LOSS:3e3,DISEASE_LOSS_PERCENT:.04,DESERTION_PERCENT:.01},RETREAT:{BASE_LOSS:1500,FROST_LOSS_PERCENT:{NORMAL:0,MILD:.02,COLD:.04,SEVERE:.07,EXTREME:.1},DISCIPLINE_MULTIPLIER:{EXCELLENT:.8,GOOD:1,LOW:1.15,CRITICAL:1.3,COLLAPSE:1.5}},DISCIPLINE:{ADVANCE_DECREASE:-2,RETREAT_DECREASE:-3,COLD_PENALTY:{MILD:-1,SEVERE:-2,EXTREME:-4},TROOPS_PENALTY:{LOW:-1,CRITICAL:-2,COLLAPSE:-3},MUTINY_THRESHOLD:12,MUTINY_PROBABILITY:.35},NAPOLEON_HEALTH:{INSPIRE_COST:10,COLD_DAMAGE:2,SICK_THRESHOLD:20},DEATH_SPIRAL:{THRESHOLD_1:8e4,MULTIPLIER_1:1.02,THRESHOLD_2:5e4,MULTIPLIER_2:1.05,THRESHOLD_3:25e3,MULTIPLIER_3:1.08,THRESHOLD_4:1e4,MULTIPLIER_4:1.1},RANDOM_VARIANCE:{MIN:.9,MAX:1.1},ENDING_THRESHOLDS:{S_RANK:2e4,A_RANK:8e3,B_RANK:2e3}};function Le(n,a=b){const{phase:i,troops:h,temperature:k,discipline:B}=n;let D=0,o=0;if(i==="ADVANCE")D=a.ADVANCE.BASE_LOSS,o=a.ADVANCE.DISEASE_LOSS_PERCENT+a.ADVANCE.DESERTION_PERCENT;else{D=a.RETREAT.BASE_LOSS,k<-30?o=a.RETREAT.FROST_LOSS_PERCENT.EXTREME:k<-20?o=a.RETREAT.FROST_LOSS_PERCENT.SEVERE:k<-10?o=a.RETREAT.FROST_LOSS_PERCENT.COLD:k<0&&(o=a.RETREAT.FROST_LOSS_PERCENT.MILD);let O=a.RETREAT.DISCIPLINE_MULTIPLIER.GOOD;B>=80?O=a.RETREAT.DISCIPLINE_MULTIPLIER.EXCELLENT:B>=50?O=a.RETREAT.DISCIPLINE_MULTIPLIER.GOOD:B>=30?O=a.RETREAT.DISCIPLINE_MULTIPLIER.LOW:B>=10?O=a.RETREAT.DISCIPLINE_MULTIPLIER.CRITICAL:O=a.RETREAT.DISCIPLINE_MULTIPLIER.COLLAPSE,D=Math.floor(D*O),o*=ot(h,a)}const c=it(a);return{total:Math.floor((D+h*o)*c),fixedLoss:Math.floor(D*c),percentLoss:o,percentLossActual:Math.floor(h*o*c)}}function ot(n,a){return n<a.DEATH_SPIRAL.THRESHOLD_4?a.DEATH_SPIRAL.MULTIPLIER_4:n<a.DEATH_SPIRAL.THRESHOLD_3?a.DEATH_SPIRAL.MULTIPLIER_3:n<a.DEATH_SPIRAL.THRESHOLD_2?a.DEATH_SPIRAL.MULTIPLIER_2:n<a.DEATH_SPIRAL.THRESHOLD_1?a.DEATH_SPIRAL.MULTIPLIER_1:1}function it(n){return n.RANDOM_VARIANCE.MIN+Math.random()*(n.RANDOM_VARIANCE.MAX-n.RANDOM_VARIANCE.MIN)}function nt(n,a=b){let i=n.phase==="ADVANCE"?a.DISCIPLINE.ADVANCE_DECREASE:a.DISCIPLINE.RETREAT_DECREASE;return n.phase==="RETREAT"&&(n.temperature<-10&&(i+=a.DISCIPLINE.COLD_PENALTY.MILD),n.temperature<-20&&(i+=a.DISCIPLINE.COLD_PENALTY.SEVERE),n.temperature<-30&&(i+=a.DISCIPLINE.COLD_PENALTY.EXTREME),n.troops<5e4&&(i+=a.DISCIPLINE.TROOPS_PENALTY.LOW),n.troops<25e3&&(i+=a.DISCIPLINE.TROOPS_PENALTY.CRITICAL),n.troops<1e4&&(i+=a.DISCIPLINE.TROOPS_PENALTY.COLLAPSE)),i}function rt(n,a=b){return n.discipline<a.DISCIPLINE.MUTINY_THRESHOLD?Math.random()<a.DISCIPLINE.MUTINY_PROBABILITY:!1}function ut(n,a=b){return n.napoleonHealth<a.NAPOLEON_HEALTH.SICK_THRESHOLD&&n.napoleonHealth>0}const pe={0:{days:4,terrain:"plain",from:"æ¶…æ›¼æ²³",to:"ç»´å°”çº½æ–¯",desc:"ç©¿è¶Šç«‹é™¶å®›å¹³åŸ"},1:{days:17,terrain:"forest",from:"ç»´å°”çº½æ–¯",to:"ç»´æ·å¸ƒæ–¯å…‹",desc:"ç©¿è¶Šç™½ä¿„ç½—æ–¯æ£®æ—"},2:{days:19,terrain:"mixed",from:"ç»´æ·å¸ƒæ–¯å…‹",to:"æ–¯æ‘©æ£±æ–¯å…‹",desc:"ä¿„å†›ç„¦åœŸæ”¿ç­–åŒºåŸŸ"},3:{days:22,terrain:"road",from:"æ–¯æ‘©æ£±æ–¯å…‹",to:"åšç½—å­£è¯º",desc:"é€šå¾€è«æ–¯ç§‘çš„å¤§é“"},4:{days:7,terrain:"road",from:"åšç½—å­£è¯º",to:"è«æ–¯ç§‘",desc:"æœ€åçš„å†²åˆº"},5:{days:5,terrain:"road",from:"è«æ–¯ç§‘",to:"å°é›…ç½—æ–¯æ‹‰éŸ¦èŒ¨",desc:"è¢«è¿«åŸè·¯è¿”å›"},6:{days:10,terrain:"devastated",from:"å°é›…ç½—æ–¯æ‹‰éŸ¦èŒ¨",to:"ç»´äºšå…¹é©¬",desc:"å·²è¢«æ‘§æ¯çš„åœŸåœ°"},7:{days:6,terrain:"frozen",from:"ç»´äºšå…¹é©¬",to:"æ–¯æ‘©æ£±æ–¯å…‹",desc:"ä¸¥å¯’å¼€å§‹"},8:{days:6,terrain:"frozen",from:"æ–¯æ‘©æ£±æ–¯å…‹",to:"å…‹æ‹‰æ–¯è¯ºè€¶",desc:"å“¥è¨å…‹éª‘å…µè¢­æ‰°"},9:{days:11,terrain:"frozen",from:"å…‹æ‹‰æ–¯è¯ºè€¶",to:"åˆ«åˆ—æ´¥çº³æ²³",desc:"æœ€è‰°éš¾çš„è·¯æ®µ"},10:{days:9,terrain:"frozen",from:"åˆ«åˆ—æ´¥çº³æ²³",to:"ç»´å°”çº½æ–¯",desc:"æ¸¡æ²³åçš„æºƒè´¥"},11:{days:9,terrain:"frozen",from:"ç»´å°”çº½æ–¯",to:"æ¶…æ›¼æ²³",desc:"ç»ˆç‚¹åœ¨æœ›"}},dt={napoleonInspire:{id:"napoleonInspire",name:"çš‡å¸äº²ä¸´",icon:"ğŸ‘‘",description:"æ‹¿ç ´ä»‘äº²è‡ªå·¡è§†éƒ¨é˜Ÿï¼Œæå¤§æå‡å£«æ°”",effect:{discipline:25,morale:30,napoleonHealth:-15},cooldown:5,maxUses:3,requirement:{napoleonHealth:30}},napoleonTactics:{id:"napoleonTactics",name:"æˆ˜æœ¯å¤©æ‰",icon:"ğŸ¯",description:"æ‹¿ç ´ä»‘äº²è‡ªæŒ‡æŒ¥æˆ˜æ–—ï¼Œå‡å°‘æˆ˜æ–—æŸå¤±",effect:{battleLossReduction:.3,napoleonHealth:-10},cooldown:3,maxUses:5,requirement:{napoleonHealth:20,inBattle:!0}},forceMarching:{id:"forceMarching",name:"å¼ºè¡Œå†›",icon:"ğŸƒ",description:"åŠ å¿«è¡Œå†›é€Ÿåº¦ï¼Œä½†å¢åŠ ç–²åŠ³å’Œç–¾ç—…",effect:{marchSpeed:1.5,diseaseRate:1.3,discipline:-5},cooldown:2,maxUses:-1,requirement:{discipline:40}},restAndRecover:{id:"restAndRecover",name:"æ‰è¥ä¼‘æ•´",icon:"ğŸ•ï¸",description:"åœæ­¢è¡Œå†›ï¼Œè®©éƒ¨é˜Ÿä¼‘æ¯æ¢å¤",effect:{marchDays:1,recoveryRate:2,discipline:5,diseaseRate:.7},cooldown:0,maxUses:-1,requirement:{}},quarantine:{id:"quarantine",name:"éš”ç¦»ç—…æ‚£",icon:"ğŸ¥",description:"å°†ç—…æ‚£éš”ç¦»ï¼Œå‡ç¼“ç–¾ç—…ä¼ æ’­",effect:{infectionRate:.5,marchSpeed:.7,morale:-10},cooldown:3,maxUses:-1,requirement:{infectionRate:10}},forage:{id:"forage",name:"å°±åœ°å¾ç²®",icon:"ğŸŒ¾",description:"æ´¾é£éƒ¨é˜Ÿæœé›†é£Ÿç‰©å’Œè¡¥ç»™",effect:{supplies:20,discipline:-8},cooldown:2,maxUses:-1,requirement:{phase:"ADVANCE"}},sacrificeRearguard:{id:"sacrificeRearguard",name:"ç‰ºç‰²åå«",icon:"âš”ï¸",description:"ç•™ä¸‹åå«éƒ¨é˜Ÿæ–­åï¼Œä¸»åŠ›åŠ é€Ÿæ’¤é€€",effect:{troops:-5e3,pursuitReduction:.7,marchSpeed:1.3,discipline:-15},cooldown:5,maxUses:3,requirement:{troops:2e4,phase:"RETREAT"}},distributeReserves:{id:"distributeReserves",name:"åˆ†å‘å‚¨å¤‡",icon:"ğŸ“¦",description:"æ‰“å¼€å‚¨å¤‡ç‰©èµ„ï¼Œæå‡å£«æ°”",effect:{supplies:-30,morale:20,discipline:10},cooldown:4,maxUses:2,requirement:{supplies:30}}},ct={key:0,class:"stats-header"},vt={class:"stat-card"},pt={class:"stat-value"},ht={class:"stat-bar"},mt={class:"stat-card"},ft={class:"stat-value loss"},Rt={class:"stat-card"},At={class:"stat-card"},Et={class:"stat-card"},_t={class:"stat-value"},yt={class:"main-content"},Tt={key:0,class:"left-panel"},St={class:"panel-section"},Nt={class:"location-name"},Lt={class:"location-desc"},Dt={key:0,class:"panel-section"},It={class:"march-info"},Mt={class:"march-desc"},bt={class:"march-day"},gt={key:1,class:"panel-section"},Ct={key:0,class:"rest-hint"},Ot={class:"panel-section logs"},Pt={class:"log-list"},xt={class:"log-date"},Ht={class:"log-text"},kt={key:1,class:"map-container"},wt={class:"campaign-map",viewBox:"0 0 800 350"},Bt=["d"],Vt=["d"],Ut=["cx","cy","r"],$t=["x","y"],Yt={key:0,class:"warnings"},Wt={key:0,class:"warning-item"},Ft={key:1,class:"warning-item"},Gt={key:2,class:"warning-item"},Kt={key:1,class:"mobile-actions"},qt={key:2,class:"right-panel"},Xt={key:0,class:"action-buttons"},jt={class:"loss-hint"},zt={key:1,class:"marching-hint"},Zt={key:1,class:"intro-overlay"},Qt={key:0,class:"modal-overlay"},Jt={key:0,class:"modal-overlay"},ea={class:"modal-card event"},ta={class:"modal-icon"},aa={class:"event-story"},sa={key:0,class:"historical-note"},la={class:"choices"},oa={class:"choice-label"},ia={class:"choice-hint"},na={class:"choice-label"},ra={class:"choice-hint"},ua={key:0,class:"modal-overlay"},da={class:"modal-card event"},ca={class:"modal-icon"},va={class:"event-story"},pa={class:"choices"},ha={class:"choice-label"},ma={class:"choice-hint"},fa={class:"choice-label"},Ra={class:"choice-hint"},Aa={key:0,class:"modal-overlay"},Ea={key:0,class:"modal-overlay"},_a={key:2,class:"result-overlay"},ya={class:"result-card"},Ta={class:"result-subtitle"},Sa={class:"result-stats"},Na={class:"result-row"},La={class:"result-row"},Da={class:"loss"},Ia={class:"result-quote"},Ma={class:"result-compare"},ba={class:"compare-bar"},ga={class:"bar"},Y=15,Ca=5,Oa={__name:"GamePage",setup(n){const a=et(),i=f("INTRO"),h=f("ADVANCE"),k=f(!1),B=f(!1),D=f(!1),o=f(422e3),c=f(100),g=f(100),O=f(3),De=new Date(1812,5,24),w=f(new Date(1812,5,24)),I=f(0),C=y(()=>{const s=w.value.getMonth(),e=w.value.getDate();if(s===5)return 22+Math.floor(Math.random()*4);if(s===6)return 24+Math.floor(Math.random()*5);if(s===7)return 20+Math.floor(Math.random()*6);if(s===8)return 12+Math.floor(Math.random()*6);if(s===9){const u=e/31;return Math.floor(5-u*10+Math.random()*4)}if(s===10){const u=e/30;return Math.floor(-5-u*20+Math.random()*5)}if(s===11){const u=e/31;return Math.floor(-20-u*15+Math.random()*5)}return-30}),he=y(()=>{const s=w.value,e=s.getMonth()+1,u=s.getDate();return`${e}æœˆ${u}æ—¥`});y(()=>Math.floor((w.value-De)/(1e3*60*60*24)));const m=J({food:100,ammunition:100,medicine:100,clothing:100}),M=J({healthy:38e4,infected:{typhus:3e4,dysentery:1e4,frostbite:0,starvation:2e3}});f(0);const me=J({}),fe=J({}),T=f(null),S=f(null),W=f(!1),ee=f(new Set),te=f(!1),ae=f(!1),q=f(!1),r=J({horsesSlaughtered:!1,russiansCrushed:!1,russiansMoraleDown:!1,guardsUsedEarly:!1,slowAdvance:!1,fastAdvance:!1,diseaseControlled:!1,diseaseSpread:!1,strictDiscipline:!1,looseDiscipline:!1,hasIntel:!1,tookSouthRoute:!1,noSupplies:!1,hasSupplies:!1,hasWarmClothes:!1,abandonedRearguard:!1,rearguardProtected:!1,savedNey:!1,abandonedNey:!1,humanDisaster:!1,foundFood:!1,napoleonLeft:!1,napoleonStayed:!1,totalDelayDays:0});function Ie(){let s=1;return r.horsesSlaughtered&&(s*=1.2),r.russiansMoraleDown&&(s*=.9),r.savedNey&&(s*=.85),(r.abandonedRearguard||r.abandonedNey)&&(s*=1.1),s}const P=f({majorDecisions:0,battles:0,lowestTemp:22,totalCasualties:0});function ue(s){const e=new Date(w.value);e.setDate(e.getDate()+s),w.value=e,P.value.lowestTemp=Math.min(P.value.lowestTemp,C.value)}const Re=y(()=>Object.values(M.infected).reduce((s,e)=>s+e,0));y(()=>o.value>0?(Re.value/o.value*100).toFixed(1):0),y(()=>Math.floor(m.food*.4+m.ammunition*.2+m.medicine*.2+m.clothing*.2));const X=y(()=>_.value<N.length-1&&pe[_.value]||null),Me=y(()=>c.value<30||C.value<-25||o.value<5e4),N=[{id:0,name:"æ¶…æ›¼æ²³",x:80,y:280,desc:"å‡ºå‘ç‚¹"},{id:1,name:"ç»´å°”çº½æ–¯",x:150,y:240,desc:"ç«‹é™¶å®›é¦–åºœ",event:"ADV_VILNA"},{id:2,name:"ç»´æ·å¸ƒæ–¯å…‹",x:230,y:200,desc:"ä¿„å†›åæ’¤",event:"ADV_SCORCHED"},{id:3,name:"æ–¯æ‘©æ£±æ–¯å…‹",x:340,y:160,desc:"æ”»åŸæˆ˜",event:"ADV_SMOLENSK"},{id:4,name:"åšç½—å­£è¯º",x:470,y:120,desc:"è¡€è…¥ä¼šæˆ˜",event:"ADV_BORODINO"},{id:5,name:"è«æ–¯ç§‘",x:620,y:80,desc:"ç‡ƒçƒ§çš„é¦–éƒ½"},{id:6,name:"å°é›…ç½—æ–¯æ‹‰éŸ¦èŒ¨",x:520,y:140,desc:"è¢«è¿«åŸè·¯",event:"RET_MALOYAROSLAVETS"},{id:7,name:"ç»´äºšå…¹é©¬",x:400,y:180,desc:"ä¸¥å¯’é™ä¸´",event:"RET_FIRST_SNOW"},{id:8,name:"æ–¯æ‘©æ£±æ–¯å…‹",x:300,y:210,desc:"åºŸå¢Ÿæ— è¡¥ç»™",event:"RET_COSSACKS"},{id:9,name:"å…‹æ‹‰æ–¯è¯ºè€¶",x:220,y:240,desc:"å†…ä¼Šçš„ç»å¢ƒ",event:"RET_KRASNOI"},{id:10,name:"åˆ«åˆ—æ´¥çº³æ²³",x:150,y:270,desc:"æœ€åå±éšœ",event:"RET_BEREZINA"},{id:11,name:"ç»´å°”çº½æ–¯",x:100,y:290,desc:"ç»ˆç‚¹åœ¨æœ›",event:"RET_NAPOLEON_LEAVES"},{id:12,name:"æ¶…æ›¼æ²³",x:80,y:310,desc:"å½’æ¥"}],_=f(0),j=y(()=>N[_.value]),be=y(()=>N[_.value].x),ge=y(()=>N[_.value].y),Ce=y(()=>{let s=`M ${N[0].x} ${N[0].y}`;for(let e=1;e<N.length;e++)s+=` L ${N[e].x} ${N[e].y}`;return s}),Oe=y(()=>{if(_.value===0)return"";let s=`M ${N[0].x} ${N[0].y}`;for(let e=1;e<=_.value;e++)s+=` L ${N[e].x} ${N[e].y}`;return s}),Ae=y(()=>o.value/422e3*100),Pe=y(()=>{const s=w.value.getMonth();return s>=5&&s<=7?"summer":s>=8&&s<=9?"autumn":"winter"}),xe=y(()=>((422e3-o.value)/422e3*100).toFixed(1)),z=f([]);function E(s,e="normal"){z.value.unshift({date:he.value,text:s,type:e}),z.value.length>6&&z.value.pop()}const se=f([]);let He=0;function F(s,e="loss"){se.value.push({id:He++,text:s,type:e,x:400+Math.random()*100,y:150+Math.random()*50}),setTimeout(()=>se.value.shift(),1500),B.value=!0,setTimeout(()=>B.value=!1,300)}const le=f(""),Ee=f("");function V(s,e=""){le.value=s,Ee.value=e,setTimeout(()=>le.value="",2e3)}function L(s){return s.toLocaleString()}function ke(s){return s===_.value?"current":s<_.value?"visited":"future"}function we(){const s=C.value;return pe[_.value]?Le({phase:h.value,troops:o.value,temperature:s,discipline:c.value,napoleonHealth:g.value}).total:0}function de(s){if(dt[s]){if(s==="restAndRecover"){Be();return}s==="napoleonInspire"&&(g.value-=b.NAPOLEON_HEALTH.INSPIRE_COST,c.value=Math.min(100,c.value+20),O.value--,V("æ‹¿ç ´ä»‘äº²è‡ªæ¿€åŠ±å£«æ°”ï¼","inspire"),E("çš‡å¸äº²è‡ªå·¡è§†ï¼Œå£«æ°”å›å‡","important"))}}function Be(){if(I.value>=Y){V("å†›é˜Ÿå·²æ— æ³•ç»§ç»­ä¼‘æ•´ï¼Œå¿…é¡»è¡ŒåŠ¨ï¼","warning"),E("âš ï¸ å£«å…µä»¬å·²ç»åŒå€¦äº†ç­‰å¾…ï¼Œå¿…é¡»è¡ŒåŠ¨ï¼","critical");return}I.value++,ue(1),c.value=Math.min(100,c.value+5);for(const l of Object.keys(M.infected)){const A=Math.floor(M.infected[l]*.15);M.infected[l]=Math.max(0,M.infected[l]-A)}M.healthy=Math.max(0,o.value-Re.value),m.food=Math.max(0,m.food-3),m.clothing=Math.max(0,m.clothing-1);let s=`æ‰è¥ä¼‘æ•´ä¸€å¤©ï¼ˆå·²ä¼‘æ•´${I.value}/${Y}å¤©ï¼‰ã€‚`,e=0;const u=C.value;if(h.value==="RETREAT"&&Math.random()<.3){const l=Math.floor(o.value*.015);o.value-=l,e+=l,c.value=Math.max(0,c.value-8),s+=` å“¥è¨å…‹éª‘å…µå¤œè¢­ï¼æŸå¤±${L(l)}äººã€‚`,E("âš”ï¸ å“¥è¨å…‹éª‘å…µå¤œè¢­è¥åœ°ï¼","critical")}if(u<-15){const l=Math.floor(o.value*Math.abs(u)/1e3);o.value-=l,e+=l,s+=` ä¸¥å¯’ä¸­å†»æ­»${L(l)}äººã€‚`}if(Math.random()<.25){const l=Math.floor(M.healthy*.02);M.infected.typhus+=l,M.healthy-=l,s+=` è¥åœ°æ‹¥æŒ¤å¯¼è‡´${L(l)}äººæ„ŸæŸ“ã€‚`}if(m.food<30&&Math.random()<.2){c.value=Math.max(0,c.value-12);const l=Math.floor(o.value*.005);o.value-=l,e+=l,s+=" å£«å…µä¸ºäº‰å¤ºé£Ÿç‰©å‘ç”Ÿæ¢°æ–—ã€‚"}I.value>=10&&(c.value=Math.max(0,c.value-5),s+=" å£«å…µä»¬å¼€å§‹è´¨ç–‘æŒ‡æŒ¥å®˜çš„å†³ç­–ã€‚"),e>0&&(F(`-${L(e)}`),P.value.totalCasualties+=e),V(s,e>0?"warning":"inspire"),E(`ğŸ•ï¸ ${s}`,e>0?"critical":"event"),I.value>=Y&&h.value==="RETREAT"&&E("âš ï¸ è¿‡åº¦ä¼‘æ•´å¯¼è‡´ä¿„å†›å®ŒæˆåŒ…å›´ï¼","critical"),o.value<=0&&(o.value=0,i.value="RESULT")}function oe(s,e=null){let u=Ie();if(s.troops){let l=Math.abs(s.troops);l=Math.floor(l*u),o.value=Math.max(0,o.value-l),P.value.totalCasualties+=l,F(`-${L(l)}`)}if(s.troopsPct){const l=Math.floor(o.value*Math.abs(s.troopsPct)/100);o.value=Math.max(0,o.value-l),P.value.totalCasualties+=l,F(`-${L(l)} (${Math.abs(s.troopsPct)}%)`)}if(s.discipline){let l=s.discipline;r.abandonedRearguard&&l>0&&(l=Math.floor(l*.8)),c.value=Math.max(0,Math.min(100,c.value+l))}if(s.health&&(g.value=Math.max(0,g.value+s.health)),s.day&&ue(s.day),e!=null&&e.chainEffect){const l=e.chainEffect;l.horsesSlaughtered&&(r.horsesSlaughtered=!0),l.russiansCrushed&&(r.russiansCrushed=!0),l.russiansMoraleDown&&(r.russiansMoraleDown=!0),l.guardsUsedEarly&&(r.guardsUsedEarly=!0),l.slowAdvance&&(r.slowAdvance=!0),l.fastAdvance&&(r.fastAdvance=!0),l.diseaseControlled&&(r.diseaseControlled=!0),l.diseaseSpread&&(r.diseaseSpread=!0),l.strictDiscipline&&(r.strictDiscipline=!0),l.looseDiscipline&&(r.looseDiscipline=!0),l.hasIntel&&(r.hasIntel=!0),l.tookSouthRoute&&(r.tookSouthRoute=!0),l.noSupplies&&(r.noSupplies=!0),l.hasSupplies&&(r.hasSupplies=!0),l.hasWarmClothes&&(r.hasWarmClothes=!0),l.abandonedRearguard&&(r.abandonedRearguard=!0),l.rearguardProtected&&(r.rearguardProtected=!0),l.savedNey&&(r.savedNey=!0),l.abandonedNey&&(r.abandonedNey=!0),l.humanDisaster&&(r.humanDisaster=!0),l.foundFood&&(r.foundFood=!0),l.napoleonLeft&&(r.napoleonLeft=!0),l.napoleonStayed&&(r.napoleonStayed=!0),l.delayDays&&(r.totalDelayDays+=l.delayDays),e.chainWarning&&E(e.chainWarning,"critical"),e.chainBonus&&E(e.chainBonus,"important")}if(e!=null&&e.chainCondition&&r[e.chainCondition]&&e.chainPenalty){const l=e.chainPenalty;if(l.troops){const A=Math.abs(l.troops);o.value=Math.max(0,o.value-A),P.value.totalCasualties+=A,F(`-${L(A)}`),E(`${e.chainPenaltyHint||"é¢å¤–æŸå¤±"}`,"critical")}}}function Ve(){const s=C.value,e={phase:h.value,temperature:s,discipline:c.value,troops:o.value,napoleonHealth:g.value};for(const u of lt)if(u.trigger(e,r)){oe(u.effect),V(u.message,"warning"),E(u.message,"event");break}}function Ue(){if(W.value||S.value)return;const s=C.value,e={phase:h.value,temperature:s,discipline:c.value,troops:o.value,napoleonHealth:g.value},l=(h.value==="ADVANCE"?at:st).filter(A=>!(ee.value.has(A.id)||!A.trigger(e,r)));if(l.length>0){const A=l[Math.floor(Math.random()*l.length)];A.isAutoTrigger?(oe(A.effect),V(A.message,"warning"),E(A.message,"event"),ee.value.add(A.id)):S.value=A,W.value=!0}}function _e(s){const e=S.value,u=s==="A"?e.choiceA:e.choiceB,l=u.effect;if(P.value.majorDecisions++,E(`${e.title}ï¼š${u.label}`,"event"),oe(l,u),ee.value.add(e.id),S.value=null,W.value=!1,o.value<=0){o.value=0,i.value="RESULT";return}V("é€‰æ‹©å®Œæˆï¼Œç‚¹å‡»ç»§ç»­è¡Œå†›æ¨è¿›","")}let Z=null,Q=null;function $e(){i.value="PLAY",h.value="ADVANCE",D.value=!1,E("å¤§å†›è·¨è¿‡æ¶…æ›¼æ²³ï¼Œå¼€å§‹è¿œå¾ï¼","important")}function ye(){if(k.value||T.value||S.value)return;const s=pe[_.value];if(!s)return;const e=s.days;D.value=!0;const u=C.value;ue(e);const l=C.value,A=(u+l)/2,G=Le({phase:h.value,troops:o.value,temperature:A,discipline:c.value,napoleonHealth:g.value}).total;o.value=Math.max(0,o.value-G),P.value.totalCasualties+=G;const ie=e/20;m.food=Math.max(0,m.food-ie*15),m.ammunition=Math.max(0,m.ammunition-ie*5),m.medicine=Math.max(0,m.medicine-ie*8),m.clothing=Math.max(0,m.clothing-ie*(A<0?12:5));const ze=nt({phase:h.value,temperature:A,troops:o.value,discipline:c.value});if(c.value=Math.max(0,Math.min(100,c.value+ze)),h.value==="RETREAT"&&A<0){const Ze=Math.abs(A)/5;g.value=Math.max(0,g.value-Ze)}const Ne=(G/(o.value+G)*100).toFixed(1);if(F(`-${L(G)} (${Ne}%)`,h.value==="ADVANCE"?"minor":"loss"),E(`è¡Œå†›${e}å¤©ï¼ŒæŸå¤±${L(G)}äºº(${Ne}%)ï¼Œæ°”æ¸©${Math.round(A)}Â°C`,h.value==="ADVANCE"?"move":"critical"),o.value<=0){o.value=0,D.value=!1,i.value="RESULT",E("å…¨å†›è¦†æ²¡...","critical");return}if(rt({discipline:c.value})){D.value=!1,ae.value=!0;return}if(h.value==="RETREAT"&&ut({napoleonHealth:g.value})&&!q.value){D.value=!1,q.value=!0,E("çš‡å¸èº«ä½“çŠ¶å†µå±æ€¥ï¼","critical");return}if(Ve(),Ue(),S.value){D.value=!1;return}Ye()}function Ye(){if(D.value=!1,h.value==="ADVANCE"){if(_.value++,_.value>=Ca){te.value=!0;return}V(`æŠµè¾¾ ${j.value.name}ï¼`),E(`æŠµè¾¾${j.value.name}`,"move");const s=N[_.value];s.event&&re[s.event]&&(T.value=re[s.event])}else{if(_.value++,_.value>=N.length-1){i.value="RESULT",E("æ®‹å†›æ¸¡è¿‡æ¶…æ›¼æ²³...è¿œå¾ç»“æŸã€‚","critical");return}E(`æ’¤é€€è‡³${j.value.name}ï¼Œæ°”æ¸©${C.value}Â°C`,"move");const s=N[_.value];s.event&&re[s.event]&&(T.value=re[s.event])}}function We(){te.value=!1,h.value="RETREAT",w.value=new Date(1812,9,19),c.value=Math.max(0,c.value-20),m.food=Math.max(0,m.food-30),m.clothing=Math.max(0,m.clothing-20),E("è«æ–¯ç§‘å¤§ç«ï¼è¢«è¿«æ’¤é€€ï¼","critical"),O.value=3,W.value=!1}function Te(s){const e=T.value,u=s==="A"?e.choiceA:e.choiceB,l=u.effect;if(P.value.majorDecisions++,e.type==="battle"&&P.value.battles++,E(`${e.title}ï¼š${u.label}`,"event"),oe(l,u),T.value=null,W.value=!1,o.value<=0){o.value=0,i.value="RESULT";return}V("é€‰æ‹©å®Œæˆï¼Œç‚¹å‡»ç»§ç»­è¡Œå†›æ¨è¿›","")}function Fe(){const s=Math.floor(o.value*.15);if(o.value-=s,P.value.totalCasualties+=s,c.value=40,F(`-${L(s)} å“—å˜`),E("å“—å˜å¹³æ¯ï¼Œä½†æŸå¤±æƒ¨é‡","critical"),ae.value=!1,o.value<=0){o.value=0,i.value="RESULT";return}}function Ge(){q.value=!1}const Ke=y(()=>I.value>=Y&&o.value>0?"çŠ¹è±«çš„ä»£ä»·":o.value>=b.ENDING_THRESHOLDS.S_RANK?"å¸å›½ä½™æ™–":o.value>=b.ENDING_THRESHOLDS.A_RANK?"å†å²é‡ç°":o.value>=b.ENDING_THRESHOLDS.B_RANK?"æƒ¨ç—›ä»£ä»·":"å…¨å†›è¦†æ²¡"),qe=y(()=>I.value>=Y&&o.value>0?"è¿‡åº¦è°¨æ…çš„æŒ‡æŒ¥å®˜":o.value>=b.ENDING_THRESHOLDS.S_RANK?"è¶…è¶Šå†å²çš„å¥‡è¿¹":o.value>=b.ENDING_THRESHOLDS.A_RANK?"ä¸å†å²ç›¸å½“":o.value>=b.ENDING_THRESHOLDS.B_RANK?"å‹‰å¼ºå¹¸å­˜":"æ³•å…°è¥¿çš„æ‚²å‰§"),Xe=y(()=>I.value>=Y&&o.value>0?`ä½ åœ¨${I.value}å¤©çš„ä¼‘æ•´ä¸­æ¶ˆè€—äº†å®è´µçš„æ—¶é—´å’Œè¡¥ç»™ã€‚è™½ç„¶ä¿å­˜äº†${L(o.value)}äººï¼Œä½†è¿‡åº¦çš„çŠ¹è±«è®©ä¿„å†›æœ‰äº†å……è¶³çš„å‡†å¤‡æ—¶é—´ã€‚å†å²ä¼šè®°ä½è¿™ä½"è°¨æ…"çš„æŒ‡æŒ¥å®˜ã€‚`:o.value>=b.ENDING_THRESHOLDS.S_RANK?"ä½ åšåˆ°äº†å†å²ä¸Šæ‹¿ç ´ä»‘éƒ½æœªèƒ½åšåˆ°çš„äº‹ã€‚ä¿ä½äº†è¶…è¿‡2ä¸‡äººï¼Œè¿™æ˜¯ä¸€ä¸ªå†›äº‹å¥‡è¿¹ã€‚ä½†å¸å›½çš„è¡°è½å·²ç»æ— æ³•é˜»æ­¢ã€‚":o.value>=b.ENDING_THRESHOLDS.A_RANK?"çº¦1ä¸‡äººå¹¸å­˜ï¼Œè¿™ä¸å†å²ä¸Šæ‹¿ç ´ä»‘çš„ç»“æœç›¸å½“ã€‚åœ¨ä¿„å›½çš„å†¬å¤©é¢å‰ï¼Œè¿™å·²ç»æ˜¯äººåŠ›æ‰€èƒ½è¾¾åˆ°çš„æé™ã€‚":o.value>=b.ENDING_THRESHOLDS.B_RANK?"åªæœ‰å‡ åƒäººæ´»ç€å›æ¥ã€‚è¿™åœºç¾éš¾æ¯”å†å²æ›´åŠ æƒ¨çƒˆï¼Œæ³•å…°è¥¿å¸å›½çš„ç²¾é”å‡ ä¹å…¨å†›è¦†æ²¡ã€‚":"æ²¡æœ‰äººæ´»ç€å›æ¥ã€‚422,000åæ³•å…°è¥¿çš„å¹´è½»äººï¼Œå…¨éƒ¨æ¶ˆå¤±åœ¨ä¿„ç½—æ–¯æ— å°½çš„é›ªåŸä¸­ã€‚è¿™æ˜¯äººç±»å†å²ä¸Šæœ€æƒ¨çƒˆçš„å†›äº‹ç¾éš¾ä¹‹ä¸€ã€‚");function je(){Z&&clearInterval(Z),Q&&clearInterval(Q),Z=null,Q=null,o.value=422e3,c.value=100,g.value=100,w.value=new Date(1812,5,24),I.value=0,_.value=0,h.value="ADVANCE",D.value=!1,m.food=100,m.ammunition=100,m.medicine=100,m.clothing=100,M.healthy=38e4,M.infected.typhus=3e4,M.infected.dysentery=1e4,M.infected.frostbite=0,M.infected.starvation=2e3,Object.keys(me).forEach(s=>delete me[s]),Object.keys(fe).forEach(s=>delete fe[s]),z.value=[],se.value=[],T.value=null,S.value=null,te.value=!1,ae.value=!1,q.value=!1,O.value=3,W.value=!1,ee.value=new Set,P.value={majorDecisions:0,battles:0,lowestTemp:22,totalCasualties:0},r.horsesSlaughtered=!1,r.russiansCrushed=!1,r.russiansMoraleDown=!1,r.guardsUsedEarly=!1,r.slowAdvance=!1,r.fastAdvance=!1,r.diseaseControlled=!1,r.diseaseSpread=!1,r.strictDiscipline=!1,r.looseDiscipline=!1,r.hasIntel=!1,r.tookSouthRoute=!1,r.noSupplies=!1,r.hasSupplies=!1,r.hasWarmClothes=!1,r.abandonedRearguard=!1,r.rearguardProtected=!1,r.savedNey=!1,r.abandonedNey=!1,r.humanDisaster=!1,r.foundFood=!1,r.napoleonLeft=!1,r.napoleonStayed=!1,r.totalDelayDays=0,i.value="INTRO"}function Se(){a.push("/")}return Qe(()=>{Z&&clearInterval(Z),Q&&clearInterval(Q)}),(s,e)=>(p(),v("div",{class:x(["game-page",[Pe.value,{shaking:B.value}]])},[i.value!=="INTRO"?(p(),v("header",ct,[t("div",vt,[t("div",pt,d(L(o.value)),1),e[7]||(e[7]=t("div",{class:"stat-label"},"å…µåŠ›",-1)),t("div",ht,[t("div",{class:"stat-fill",style:ne({width:Ae.value+"%"})},null,4)])]),t("div",mt,[t("div",ft,"-"+d(L(422e3-o.value)),1),e[8]||(e[8]=t("div",{class:"stat-label"},"ç´¯è®¡æŸå¤±",-1))]),t("div",Rt,[t("div",{class:x(["stat-value",{warning:c.value<50,danger:c.value<30}])},d(c.value),3),e[9]||(e[9]=t("div",{class:"stat-label"},"çºªå¾‹",-1))]),t("div",At,[t("div",{class:x(["stat-value",{cold:C.value<0,extreme:C.value<-20}])},d(C.value)+"Â°C",3),e[10]||(e[10]=t("div",{class:"stat-label"},"æ°”æ¸©",-1))]),t("div",Et,[t("div",_t,d(he.value),1),e[11]||(e[11]=t("div",{class:"stat-label"},"æ—¥æœŸ",-1))]),t("div",{class:x(["phase-badge",h.value])},d(h.value==="ADVANCE"?"è¿›æ”»é˜¶æ®µ":"æ’¤é€€é˜¶æ®µ"),3)])):R("",!0),t("div",yt,[i.value==="PLAY"?(p(),v("aside",Tt,[t("div",St,[e[12]||(e[12]=t("div",{class:"section-title"},"ğŸ“ å½“å‰ä½ç½®",-1)),t("div",Nt,d(j.value.name),1),t("div",Lt,d(j.value.desc),1)]),X.value?(p(),v("div",Dt,[e[13]||(e[13]=t("div",{class:"section-title"},"ğŸš¶ ä¸‹ä¸€æ®µè¡Œç¨‹",-1)),t("div",It,d(X.value.from)+" â†’ "+d(X.value.to),1),t("div",Mt,d(X.value.desc),1),t("div",bt,"é¢„è®¡ "+d(X.value.days)+" å¤©",1)])):R("",!0),I.value>0?(p(),v("div",gt,[e[14]||(e[14]=t("div",{class:"section-title"},"ğŸ•ï¸ ä¼‘æ•´è®°å½•",-1)),t("div",{class:x(["rest-info",{warning:I.value>=10}])}," å·²ä¼‘æ•´ "+d(I.value)+" / "+d(Y)+" å¤© ",3),I.value>=10?(p(),v("div",Ct,"âš ï¸ å£«å…µä»¬å¼€å§‹ä¸è€çƒ¦äº†")):R("",!0)])):R("",!0),t("div",Ot,[e[15]||(e[15]=t("div",{class:"section-title"},"ğŸ“œ è¡Œå†›æ—¥å¿—",-1)),t("div",Pt,[(p(!0),v(ce,null,ve(z.value,(u,l)=>(p(),v("div",{key:l,class:x(["log-item",u.type])},[t("span",xt,d(u.date),1),t("span",Ht,d(u.text),1)],2))),128))])])])):R("",!0),i.value==="PLAY"?(p(),v("main",kt,[(p(),v("svg",wt,[t("path",{d:Ce.value,class:"route-base",fill:"none","stroke-width":"4"},null,8,Bt),t("path",{d:Oe.value,class:x(["route-traveled",h.value]),fill:"none","stroke-width":"4"},null,10,Vt),(p(),v(ce,null,ve(N,(u,l)=>t("g",{key:u.id},[t("circle",{cx:u.x,cy:u.y,r:l===_.value?12:6,class:x(["node",ke(l)])},null,10,Ut),t("text",{x:u.x,y:u.y+22,"text-anchor":"middle",class:x(["node-label",{active:l===_.value}])},d(u.name),11,$t)])),64)),t("g",{class:"napoleon-marker",style:ne({transform:`translate(${be.value}px, ${ge.value-30}px)`})},[...e[16]||(e[16]=[t("text",{x:"0",y:"0","text-anchor":"middle","font-size":"24"},"ğŸ¦…",-1)])],4)])),Me.value?(p(),v("div",Yt,[c.value<30?(p(),v("div",Wt,"âš ï¸ çºªå¾‹å´©æºƒ")):R("",!0),C.value<-25?(p(),v("div",Ft,"â„ï¸ æå¯’")):R("",!0),o.value<5e4?(p(),v("div",Gt,"ğŸ’€ å…µåŠ›å‘Šæ€¥")):R("",!0)])):R("",!0),!k.value&&!T.value&&!S.value?(p(),v("div",Kt,[t("button",{class:"btn-mobile-primary",onClick:ye},d(h.value==="ADVANCE"?"ç»§ç»­è¡Œå†› â†’":"â† ç»§ç»­æ’¤é€€"),1),t("button",{class:"btn-mobile-secondary",onClick:e[0]||(e[0]=u=>de("restAndRecover"))},"ğŸ•ï¸ ä¼‘æ•´")])):R("",!0)])):R("",!0),i.value==="PLAY"?(p(),v("aside",qt,[!k.value&&!T.value&&!S.value?(p(),v("div",Xt,[t("button",{class:"btn-primary",onClick:ye},d(h.value==="ADVANCE"?"ç»§ç»­è¡Œå†› â†’":"â† ç»§ç»­æ’¤é€€"),1),t("div",jt,"é¢„è®¡æœ¬æ®µæŸå¤±: "+d(L(we()))+" äºº",1),t("button",{class:"btn-secondary",onClick:e[1]||(e[1]=u=>de("restAndRecover"))},"ğŸ•ï¸ æ‰è¥ä¼‘æ•´"),g.value>30&&O.value>0?(p(),v("button",{key:0,class:"btn-secondary",onClick:e[2]||(e[2]=u=>de("napoleonInspire"))}," ğŸ‘‘ çš‡å¸æ¿€åŠ± ("+d(O.value)+") ",1)):R("",!0)])):R("",!0),k.value?(p(),v("div",zt,"è¡Œå†›ä¸­...")):R("",!0)])):R("",!0)]),U(Je,{name:"dmg",tag:"div",class:"damage-numbers"},{default:$(()=>[(p(!0),v(ce,null,ve(se.value,u=>(p(),v("div",{key:u.id,class:x(["dmg-text",u.type]),style:ne({left:u.x+"px",top:u.y+"px"})},d(u.text),7))),128))]),_:1}),U(K,{name:"toast"},{default:$(()=>[le.value?(p(),v("div",{key:0,class:x(["toast",Ee.value])},d(le.value),3)):R("",!0)]),_:1}),i.value==="INTRO"?(p(),v("div",Zt,[t("div",{class:"intro-card"},[e[17]||(e[17]=t("h1",null,"1812",-1)),e[18]||(e[18]=t("h2",null,"ç»æœ›çš„è¡Œå†›",-1)),e[19]||(e[19]=t("p",{class:"tagline"},"La Grande ArmÃ©e",-1)),e[20]||(e[20]=t("div",{class:"intro-text"},[t("p",null,"1812å¹´6æœˆï¼Œä½ ç‡é¢†422,000åå£«å…µè·¨è¿‡æ¶…æ›¼æ²³ã€‚"),t("p",null,"ç›®æ ‡ï¼šæ”»å è«æ–¯ç§‘ï¼Œè¿«ä½¿æ²™çš‡æ±‚å’Œã€‚"),t("p",{class:"warning-text"},"ç„¶è€Œï¼Œä¿„å›½çš„å†¬å¤©æ­£åœ¨ç­‰å¾…...")],-1)),t("div",{class:"intro-buttons"},[t("button",{class:"btn-start",onClick:$e},"å¼€å§‹è¿œå¾"),t("button",{class:"btn-back",onClick:Se},"è¿”å›é¦–é¡µ")])])])):R("",!0),U(K,{name:"modal"},{default:$(()=>[te.value?(p(),v("div",Qt,[t("div",{class:"modal-card fire"},[e[21]||(e[21]=t("div",{class:"modal-icon"},"ğŸ”¥",-1)),e[22]||(e[22]=t("h2",null,"è«æ–¯ç§‘åœ¨ç‡ƒçƒ§",-1)),e[23]||(e[23]=t("div",{class:"moscow-story"},[t("p",null,"1812å¹´9æœˆ14æ—¥ï¼Œç»è¿‡ä¸‰ä¸ªæœˆçš„è‰°è‹¦è¡Œå†›ï¼Œä½ ç»ˆäºç‡å†›è¿›å…¥è«æ–¯ç§‘..."),t("p",{class:"highlight"},"ä½†åŸå¸‚æ˜¯ç©ºçš„ã€‚æ²™çš‡äºšå†å±±å¤§ä¸€ä¸–æ‹’ç»æŠ•é™ï¼Œç”šè‡³æ‹’ç»è°ˆåˆ¤ã€‚"),t("p",{class:"dramatic"},"ç«ç„°ä»å››é¢å…«æ–¹å‡èµ·ï¼ä¿„å›½æ€»ç£ç½—æ–¯æ‰˜æ™®é’¦ä¸‹ä»¤ç„šåŸï¼"),t("div",{class:"retreat-reasons"},[t("h4",null,"âš ï¸ ä¸ºä»€ä¹ˆå¿…é¡»æ’¤é€€ï¼Ÿ"),t("ul",null,[t("li",null,[H("ğŸšï¸ "),t("strong",null,"åŸå¸‚è¢«æ¯"),H("ï¼šè«æ–¯ç§‘80%çš„å»ºç­‘è¢«çƒ§æ¯ï¼Œæ— æ³•æä¾›è¡¥ç»™å’Œä½æ‰€")]),t("li",null,[H("â„ï¸ "),t("strong",null,"å†¬å¤©å°†è‡³"),H("ï¼šä¿„å›½çš„å†¬å¤©å³å°†æ¥ä¸´ï¼Œæ°”æ¸©å°†é™è‡³-30Â°Cä»¥ä¸‹")]),t("li",null,[H("ğŸ "),t("strong",null,"è¡¥ç»™è€—å°½"),H("ï¼šå†›é˜Ÿçš„ç²®é£Ÿå’Œç‰©èµ„å·²ç»ä¸¥é‡ä¸è¶³")]),t("li",null,[H("ğŸ‘‘ "),t("strong",null,"æ²™çš‡æ‹’é™"),H('ï¼šäºšå†å±±å¤§ä¸€ä¸–èª“è¨€"å®å¯é€€åˆ°è¥¿ä¼¯åˆ©äºšä¹Ÿä¸æŠ•é™"')]),t("li",null,[H("âš”ï¸ "),t("strong",null,"ä¿„å†›å¨èƒ"),H("ï¼šåº“å›¾ä½å¤«çš„ä¿„å†›æ­£åœ¨é›†ç»“ï¼Œå‡†å¤‡åˆ‡æ–­é€€è·¯")])]),t("p",{class:"warning-text"},"åœ¨è«æ–¯ç§‘å¤šå¾…ä¸€å¤©ï¼Œå°±æ„å‘³ç€æ›´å¤šå£«å…µå°†æ­»äºå³å°†åˆ°æ¥çš„ä¸¥å†¬ã€‚")])],-1)),t("button",{class:"btn-confirm",onClick:We},"å¼€å§‹æ’¤é€€")])])):R("",!0)]),_:1}),U(K,{name:"modal"},{default:$(()=>[T.value?(p(),v("div",Jt,[t("div",ea,[t("div",ta,d(T.value.icon),1),t("h2",null,d(T.value.title),1),t("p",aa,d(T.value.story),1),T.value.historicalNote?(p(),v("p",sa,"ğŸ“œ "+d(T.value.historicalNote),1)):R("",!0),t("div",la,[t("button",{class:"choice-btn choice-a",onClick:e[3]||(e[3]=u=>Te("A"))},[t("span",oa,d(T.value.choiceA.label),1),t("span",ia,d(T.value.choiceA.hint),1)]),t("button",{class:"choice-btn choice-b",onClick:e[4]||(e[4]=u=>Te("B"))},[t("span",na,d(T.value.choiceB.label),1),t("span",ra,d(T.value.choiceB.hint),1)])])])])):R("",!0)]),_:1}),U(K,{name:"modal"},{default:$(()=>[S.value?(p(),v("div",ua,[t("div",da,[e[24]||(e[24]=t("div",{class:"event-badge"},"éšæœºäº‹ä»¶",-1)),t("div",ca,d(S.value.icon),1),t("h2",null,d(S.value.title),1),t("p",va,d(S.value.story),1),t("div",pa,[t("button",{class:"choice-btn choice-a",onClick:e[5]||(e[5]=u=>_e("A"))},[t("span",ha,d(S.value.choiceA.label),1),t("span",ma,d(S.value.choiceA.hint),1)]),t("button",{class:"choice-btn choice-b",onClick:e[6]||(e[6]=u=>_e("B"))},[t("span",fa,d(S.value.choiceB.label),1),t("span",Ra,d(S.value.choiceB.hint),1)])])])])):R("",!0)]),_:1}),U(K,{name:"modal"},{default:$(()=>[ae.value?(p(),v("div",Aa,[t("div",{class:"modal-card critical"},[e[25]||(e[25]=t("div",{class:"modal-icon"},"âš ï¸",-1)),e[26]||(e[26]=t("h2",null,"å“—å˜ï¼",-1)),e[27]||(e[27]=t("p",{class:"dramatic"},"çºªå¾‹å´©æºƒï¼å£«å…µä»¬å¼€å§‹äº’ç›¸æŠ¢åŠ«ï¼Œç”šè‡³æ”»å‡»å†›å®˜ï¼",-1)),t("button",{class:"btn-confirm",onClick:Fe},"è‰°éš¾æ¢å¤ç§©åº")])])):R("",!0)]),_:1}),U(K,{name:"modal"},{default:$(()=>[q.value?(p(),v("div",Ea,[t("div",{class:"modal-card critical"},[e[28]||(e[28]=t("div",{class:"modal-icon"},"ğŸ‘‘",-1)),e[29]||(e[29]=t("h2",null,"çš‡å¸ç—…å€’äº†ï¼",-1)),e[30]||(e[30]=t("p",{class:"dramatic"},"æ‹¿ç ´ä»‘å› ä¸¥å¯’å’Œç–²åŠ³ç—…å€’ï¼Œæ— æ³•ç»§ç»­æŒ‡æŒ¥ã€‚",-1)),t("button",{class:"btn-confirm",onClick:Ge},"ç»§ç»­æ’¤é€€")])])):R("",!0)]),_:1}),i.value==="RESULT"?(p(),v("div",_a,[t("div",ya,[t("h1",null,d(Ke.value),1),t("p",Ta,d(qe.value),1),t("div",Sa,[e[33]||(e[33]=t("div",{class:"result-row"},[t("span",null,"å‡ºå‘å…µåŠ›"),t("span",null,"422,000")],-1)),t("div",Na,[e[31]||(e[31]=t("span",null,"å½’æ¥å…µåŠ›",-1)),t("span",{class:x({zero:o.value===0})},d(L(o.value)),3)]),t("div",La,[e[32]||(e[32]=t("span",null,"æŸå¤±ç‡",-1)),t("span",Da,d(xe.value)+"%",1)])]),t("p",Ia,d(Xe.value),1),t("div",Ma,[e[35]||(e[35]=t("h4",null,"ä¸å†å²å¯¹æ¯”",-1)),t("div",ba,[e[34]||(e[34]=t("span",null,"ä½ ",-1)),t("div",ga,[t("div",{class:"fill you",style:ne({width:Math.max(1,Ae.value)+"%"})},null,4)]),t("span",null,d(L(o.value)),1)]),e[36]||(e[36]=t("div",{class:"compare-bar"},[t("span",null,"å†å²"),t("div",{class:"bar"},[t("div",{class:"fill history",style:{width:"2.4%"}})]),t("span",null,"~10,000")],-1))]),t("div",{class:"result-buttons"},[t("button",{class:"btn-primary",onClick:je},"å†è¯•ä¸€æ¬¡"),t("button",{class:"btn-secondary",onClick:Se},"è¿”å›é¦–é¡µ")])])])):R("",!0)],2))}},ka=tt(Oa,[["__scopeId","data-v-43193ce7"]]);export{ka as default};
