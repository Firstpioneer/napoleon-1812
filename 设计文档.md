信息来源：https://en.wikipedia.org/wiki/French_invasion_of_Russia

第一阶段：需求确认与设计要点分析
设计构思复述：
核心主题：以1812年拿破仑远征俄罗斯为背景，构建一个具备空间（地图）、时间（阶段）、以及数量（兵力损失）多维度的动态交互系统。
关键视觉形式：动态流向箭头（进攻/撤退趋势）、领土色彩更迭。
交互深度：支持从宏观全景到具体战役（如博罗季诺战役）的“下钻”式跳转，通过渐变动效实现“身临其境”的叙事体验。
现有前端形式假设确认：
为了确保设计方案的可落地性，我假设系统将采用：
暗色调背景：以增强历史厚重感并突出动态流向线条。
响应式画布布局：保证地图在不同分辨率下均能保持战术细节。
叙事控制条：位于底部的时间轴，用于驱动全局状态变化。
第二阶段：核心场景与流程设计
我将用户体验拆解为三个核心场景，以满足“分析过程”的要求：
场景 1：宏观演变探索（Overview）
用户操作：用户拖动底部时间轴或点击“播放”按钮。
界面响应：地图上的进攻箭头随着日期推进逐渐延伸，法军控制区（颜色填充）像水渍一样扩散；侧边的兵力折线图同步绘制，显示随着进攻深入，非战斗减员的急剧下滑。
分析目的：回答“空间距离与兵力损耗的关联性”。
场景 2：战役细节下钻（Deep Dive）
用户操作：在时间轴运行到特定节点（如 1812.09.07）时，点击地图上的“博罗季诺”闪烁热点。
界面响应：全景地图执行平滑的缩放（Zoom-in）与淡入淡出（Cross-fade），转场进入“局部战役视图”。
分析目的：通过更精细的战术箭头（侧翼包抄、中路突破）解析具体战役的成败。
场景 3：撤退轨迹对比（Comparison）
用户操作：用户切换“进攻/撤退”对比模式。
界面响应：界面对比显示去程（红色箭头）与回程（黑色箭头）的路线重合度，并叠加环境因素（如气温曲线）。
分析目的：直观揭示“为何撤退路线选择导致了毁灭性后果”。
第三阶段：界面模块化分解详述
按照多视图联动（MCV）的要求，界面分为以下四个核心模块：
1. 动态战略地图模块 (The Tactical Canvas)
布局：占据界面中心 70% 的核心区域。
视觉编码：
箭头宽度：代表兵力人数（由宽变窄，模拟减员）。
颜色编码：红色代表法军进攻，蓝色代表俄军诱敌深入，黑色代表撤退阶段。
动态动效：线条采用“流光”效果，指示进攻速度与方向。
交互状态：悬停在箭头上显示当前部队番号、实时人数、当天气温。
2. 兵力-环境同步分析视图 (Temporal Analysis View)
布局：位于地图下方或右侧。
核心组件：双轴折线图。
联动逻辑：
共享指针：鼠标在折线图上滑动时，地图上的箭头自动回溯/前进到对应位置。
视觉对齐：当折线图显示气温降至零下30度时，地图背景叠加“冰霜覆盖”的视觉滤镜。
3. 叙事卡片模块 (Narrative Context Card)
布局：左侧或右侧浮窗。
内容：显示当前阶段的历史事件简述、关键决策者画像及语音/文字解说。
状态切换：当用户从“远征阶段”点击进入“莫斯科大火阶段”时，卡片背景色由深蓝转为暗红。
4. 阶段控制面板 (Phase Controller)
包含组件：分段式进度条（按进军、莫斯科对峙、撤退三个阶段划分）。
交互细节：点击不同阶段，系统执行“身临其境”的转场动画（调整摄像机视角倾斜度，产生 2D 到 2.5D 的透视变化）。
第四阶段：给AI生成代码的指令逻辑建议（优先级标记）
优先级 P0（核心联动）：确保全局 currentTime 状态驱动所有视图（地图、折线图、文本描述）同步更新。
优先级 P1（动态编码）：实现箭头路径的 stroke-dasharray 动画，使其具备流动感，并确保线条宽度根据数据动态计算。
优先级 P2（沉浸转场）：设计从“宏观地理”到“微观战役”的无缝缩放逻辑，避免生硬的页面跳转。