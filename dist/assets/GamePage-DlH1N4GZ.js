import{f as L,g as Ae,k as D,m as _t,c as r,h as e,i as u,B as Rt,t as l,n as S,q as w,C as Y,H as ke,F as Te,s as ye,a as q,T as Z,u as Tt,o as c,j as yt}from"./vendor-Clkip-va.js";import{_ as Lt}from"./index-Cq6JQ6IN.js";const G={ADV_VILNA:{icon:"ğŸ›ï¸",title:"ç»´å°”çº½æ–¯çš„è¯±æƒ‘",type:"logistics",story:"ç«‹é™¶å®›è´µæ—çƒ­æƒ…æ¬¢è¿ä½ ï¼Œæä¾›å®´ä¼šå’Œä¼‘æ¯ã€‚ä½†ä¿„å†›æ­£åœ¨è¿œæ–¹é›†ç»“ï¼Œæ—¶é—´å®è´µã€‚",historicalNote:"å†å²ä¸Šæ‹¿ç ´ä»‘åœ¨ç»´å°”çº½æ–¯åœç•™äº†18å¤©ï¼Œè¿™ç»™äº†ä¿„å†›å®è´µçš„é›†ç»“æ—¶é—´ã€‚",choiceA:{label:"åœç•™ä¼‘æ•´3å¤©",hint:"å£«æ°”+15ï¼Œä½†ä¿„å†›å®Œæˆä¼šåˆ",effect:{discipline:15,day:3,troops:-5e3}},choiceB:{label:"ç«‹å³è¿½å‡»",hint:"ä¿æŒå‹åŠ›ï¼Œä½†å£«å…µç–²æƒ«",effect:{discipline:-8,troops:-8e3}}},ADV_SCORCHED:{icon:"ğŸ”¥",title:"ç„¦åœŸæ”¿ç­–çš„å¼€å§‹",type:"logistics",story:"ä¿„å†›æ’¤é€€å‰çƒ§æ¯äº†æ‰€æœ‰ç²®ä»“å’Œæ‘åº„ã€‚å‰æ–¹50å…¬é‡Œå†…æ²¡æœ‰ä»»ä½•è¡¥ç»™ã€‚",historicalNote:"ä¿„å†›çš„ç„¦åœŸæ”¿ç­–æ˜¯å¯¼è‡´æ³•å†›éæˆ˜æ–—å‡å‘˜çš„ä¸»è¦åŸå› ä¹‹ä¸€ã€‚",choiceA:{label:"å®°æ€æˆ˜é©¬å……é¥¥",hint:"ä¿æŒå…µåŠ›ï¼Œä½†å¤±å»æœºåŠ¨æ€§",effect:{troops:-5e3,discipline:-8}},choiceB:{label:"å¼ºè¡Œå†›å¯»æ‰¾è¡¥ç»™",hint:"å¯èƒ½æ‰¾åˆ°é£Ÿç‰©ï¼Œä½†å£«å…µç–²æƒ«",effect:{troops:-12e3,discipline:-12,day:1}}},ADV_SMOLENSK:{icon:"âš”ï¸",title:"æ–¯æ‘©æ£±æ–¯å…‹æ”»åŸæˆ˜",type:"battle",story:"ä¿„å†›æ®åŸæ­»å®ˆã€‚åŸå¢™åšå›ºï¼Œç«ç‚®è½°é¸£ã€‚è¿™æ˜¯è¿›æ”»é˜¶æ®µçš„ç¬¬ä¸€æ¬¡é‡å¤§æˆ˜æ–—ã€‚",historicalNote:"å†å²ä¸Šè¿™åœºæˆ˜å½¹æŒç»­3å¤©ï¼Œæ³•å†›æŸå¤±çº¦10,000äººï¼ŒåŸå¸‚è¢«å¤§ç«æ‘§æ¯ã€‚",choiceA:{label:"å¼ºæ”»åŸæ± ",hint:"æŸå¤±18,000äººï¼Œå¿«é€Ÿå é¢†",effect:{troops:-18e3,discipline:-8,health:-5}},choiceB:{label:"å›´å›°ç­‰å¾…",hint:"æŸå¤±6,000äººï¼Œä½†å»¶è¯¯æ—¶é—´",effect:{troops:-6e3,day:2,discipline:-15}}},ADV_BORODINO:{icon:"ğŸ’€",title:"åšç½—å­£è¯ºè¡€æˆ˜",type:"battle",story:"åº“å›¾ä½å¤«ç»ˆäºå†³å®šè¿æˆ˜ã€‚è¿™å°†æ˜¯æ‹¿ç ´ä»‘æˆ˜äº‰ä¸­æœ€è¡€è…¥çš„ä¸€å¤©ã€‚åŒæ–¹æŠ•å…¥è¶…è¿‡25ä¸‡å…µåŠ›ã€‚",historicalNote:"å†å²ä¸Šè¿™åœºæˆ˜å½¹é€ æˆçº¦70,000äººä¼¤äº¡ï¼Œæ˜¯æ‹¿ç ´ä»‘æˆ˜äº‰ä¸­æœ€è¡€è…¥çš„å•æ—¥æˆ˜æ–—ã€‚",choiceA:{label:"å…¨çº¿è¿›æ”»",hint:"æŸå¤±35,000äººï¼Œå‡»æºƒä¿„å†›",effect:{troops:-35e3,discipline:-12,health:-15}},choiceB:{label:"æŠ•å…¥è¿‘å«å†›",hint:"æŸå¤±42,000äººï¼Œä½†å¯èƒ½æ­¼ç­ä¿„å†›",effect:{troops:-42e3,discipline:5,health:-20}}},RET_MALOYAROSLAVETS:{icon:"ğŸ—ºï¸",title:"å—è·¯è¿˜æ˜¯åŒ—è·¯ï¼Ÿ",type:"critical",story:"åº“å›¾ä½å¤«å°é”äº†å—è·¯ã€‚å—è·¯æœ‰æœªè¢«æ å¤ºçš„è¡¥ç»™ï¼Œä½†éœ€è¦æˆ˜æ–—ã€‚åŒ—è·¯æ˜¯æ¥æ—¶çš„åºŸå¢Ÿã€‚",historicalNote:"å†å²ä¸Šæ‹¿ç ´ä»‘é€‰æ‹©äº†åŒ—è·¯ï¼Œè¿™æ„å‘³ç€æ²¿é€”æ²¡æœ‰ä»»ä½•è¡¥ç»™ã€‚",choiceA:{label:"å¼ºæ”»å—è·¯",hint:"å¯èƒ½è·å¾—è¡¥ç»™ï¼Œä½†æŸå¤±æƒ¨é‡",effect:{troops:-18e3,discipline:-18,temp:3}},choiceB:{label:"èµ°åŒ—è·¯åŸè·¯è¿”å›",hint:"é¿å…æˆ˜æ–—ï¼Œä½†æ²¿é€”æ— è¡¥ç»™",effect:{troops:-6e3,discipline:-12}}},RET_FIRST_SNOW:{icon:"â„ï¸",title:"ä¸¥å¯’é™ä¸´",type:"disaster",story:"æ¸©åº¦éª¤é™è‡³-15Â°Cï¼Œå£«å…µä»¬æ²¡æœ‰å†¬è£…ï¼Œé©¬åŒ¹åœ¨å†°é¢ä¸Šæ‰“æ»‘ã€‚æ¯å¤©éƒ½æœ‰äººå†»æ­»åœ¨è·¯è¾¹ã€‚",historicalNote:"ç¬¬ä¸€åœºå¤§é›ªæ ‡å¿—ç€ç¾éš¾çš„çœŸæ­£å¼€å§‹ã€‚æ²¡æœ‰å†¬è£…çš„å£«å…µå¼€å§‹æˆæ‰¹å†»æ­»ã€‚",choiceA:{label:"å‰¥æ­»è€…è¡£ç‰©å¾¡å¯’",hint:"å‡å°‘å†»æ­»ï¼Œä½†å£«æ°”å´©æºƒ",effect:{troops:-1e4,discipline:-25}},choiceB:{label:"åŠ å¿«è¡Œå†›é€Ÿåº¦",hint:"å°½å¿«ç¦»å¼€ï¼Œä½†ä½“åŠ›æ¶ˆè€—å¤§",effect:{troops:-15e3,discipline:-12}}},RET_COSSACKS:{icon:"ğŸ",title:"å“¥è¨å…‹çš„ç‹¼ç¾¤æˆ˜æœ¯",type:"battle",story:"å“¥è¨å…‹éª‘å…µåƒç‹¼ç¾¤ä¸€æ ·å›´ç»•å¤§å†›ï¼Œä¸æ–­è¢­å‡»è½å•è€…å’Œè¡¥ç»™é˜Ÿã€‚åå«éƒ¨é˜Ÿè¯·æ±‚æ”¯æ´ã€‚",historicalNote:"å“¥è¨å…‹éª‘å…µçš„æ¸¸å‡»æˆ˜æœ¯ç»™æ’¤é€€ä¸­çš„æ³•å†›é€ æˆäº†å·¨å¤§æŸå¤±ã€‚",choiceA:{label:"æ´¾è¿‘å«å†›æ”¯æ´åå«",hint:"ä¿æŠ¤åå«ï¼Œä½†ç²¾é”æŸè€—",effect:{troops:-6e3,discipline:8}},choiceB:{label:"æŠ›å¼ƒåå«åŠ é€Ÿå‰è¿›",hint:"ä¿å­˜ä¸»åŠ›ï¼Œä½†åå«å…¨ç­",effect:{troops:-15e3,discipline:-30}}},RET_KRASNOI:{icon:"ğŸ’€",title:"å…‹æ‹‰æ–¯è¯ºè€¶çš„ç»å¢ƒ",type:"critical",story:"å†…ä¼Šå…ƒå¸…çš„åå«è¢«ä¿„å†›åŒ…å›´ã€‚ä»–è¯·æ±‚æ”¯æ´ï¼Œä½†å›æ´å¯èƒ½è®©ä¸»åŠ›é™·å…¥é™©å¢ƒã€‚",historicalNote:'å†å²ä¸Šå†…ä¼Šç‡é¢†æ®‹éƒ¨è¸ç€å†°æ²³çªå›´ï¼Œè¢«æ‹¿ç ´ä»‘ç§°ä¸º"å‹‡å£«ä¸­çš„å‹‡è€…"ã€‚',choiceA:{label:"å›æ´å†…ä¼Š",hint:'æ‹¯æ•‘"å‹‡å£«ä¸­çš„å‹‡è€…"ï¼Œä½†ä¸»åŠ›æŸå¤±',effect:{troops:-12e3,discipline:12,health:-15}},choiceB:{label:"æ”¾å¼ƒåå«ç»§ç»­æ’¤é€€",hint:"ä¿å­˜ä¸»åŠ›ï¼Œä½†å¤±å»å†…ä¼Š",effect:{troops:-18e3,discipline:-35}}},RET_BEREZINA:{icon:"ğŸŒŠ",title:"åˆ«åˆ—æ´¥çº³æ²³çš„å™©æ¢¦",type:"critical",story:"æ²³æ°´æœªå®Œå…¨å°å†»ï¼Œä¸‰æ”¯ä¿„å†›æ­£åœ¨åˆå›´ã€‚å·¥å…µå¯ä»¥æ¶æ¡¥ï¼Œä½†éœ€è¦æœ‰äººæ–­åã€‚",historicalNote:"å†å²ä¸Šçº¦25,000äººåœ¨æ¸¡æ²³æ—¶æ­»äº¡æˆ–è¢«ä¿˜ï¼Œè¿™æ˜¯æ’¤é€€ä¸­æœ€æƒ¨çƒˆçš„æ—¶åˆ»ã€‚",choiceA:{label:"è€è¿‘å«å†›æ–­å",hint:"ç²¾é”å…¨ç­ï¼Œä½†å¤§éƒ¨åˆ†äººæ¸¡æ²³",effect:{troops:-1e4,discipline:-18,health:-25}},choiceB:{label:"è®©éæˆ˜æ–—äººå‘˜æ–­å",hint:"ä¿å­˜æˆ˜æ–—åŠ›ï¼Œä½†äººé“ç¾éš¾",effect:{troops:-25e3,discipline:-40}}},RET_NAPOLEON_LEAVES:{icon:"ğŸ¦…",title:"çš‡å¸çš„æŠ‰æ‹©",type:"critical",story:'12æœˆ5æ—¥ï¼Œæ‹¿ç ´ä»‘å†³å®šç§˜å¯†è¿”å›å·´é»ã€‚ä»–è¯´ï¼š"æˆ‘åªèƒ½ä»æœä¼Šå‹’é‡Œå®«å¼•èµ·æ¬§æ´²çš„æ•¬ç•ã€‚"',historicalNote:"å†å²ä¸Šæ‹¿ç ´ä»‘ç¡®å®åœ¨æ­¤æ—¶ç¦»å¼€äº†å†›é˜Ÿï¼Œå°†æŒ‡æŒ¥æƒäº¤ç»™ç¼ªæ‹‰å…ƒå¸…ã€‚",choiceA:{label:"è®©ä»–èµ°",hint:"ä¿ä½å¸å›½ï¼Œä½†å†›é˜Ÿå£«æ°”å´©æºƒ",effect:{discipline:-55,troopsPct:-18}},choiceB:{label:"æ³æ±‚ä»–ç•™ä¸‹",hint:"ä¿æŒå£«æ°”ï¼Œä½†å¸å›½å¯èƒ½å´©æºƒ",effect:{discipline:12,health:-25}}}},It=[{id:"ADV_RANDOM_TYPHUS",title:"ä¼¤å¯’çˆ†å‘",icon:"ğŸ¦ ",type:"disaster",probability:.3,trigger:a=>a.phase==="ADVANCE",story:"å†›è¥ä¸­çˆ†å‘ä¼¤å¯’ã€‚åŒ»ç”Ÿå»ºè®®éš”ç¦»ç—…æ‚£ï¼Œä½†è¿™ä¼šæ‹–æ…¢è¡Œå†›é€Ÿåº¦ã€‚",historicalNote:"ä¼¤å¯’å’Œç—¢ç–¾æ˜¯æ³•å†›æœ€å¤§çš„æ€æ‰‹ï¼Œé€ æˆçš„æ­»äº¡äººæ•°è¶…è¿‡æˆ˜æ–—ã€‚",choiceA:{label:"éš”ç¦»æ²»ç–—",hint:"å‡å°‘ä¼ æ’­ï¼Œå»¶è¯¯2å¤©",effect:{troops:-1e4,day:2,discipline:5}},choiceB:{label:"ç»§ç»­å‰è¿›",hint:"ä¿æŒé€Ÿåº¦ï¼Œç–«æƒ…æ‰©æ•£",effect:{troops:-18e3,discipline:-18}}},{id:"ADV_RANDOM_SUPPLY_RAID",title:"è¡¥ç»™è½¦é˜Ÿè¢«è¢­",icon:"ğŸ¯",type:"logistics",probability:.25,trigger:a=>a.phase==="ADVANCE",story:"å“¥è¨å…‹éª‘å…µè¢­å‡»äº†è¡¥ç»™è½¦é˜Ÿã€‚æ˜¯å¦æ´¾å…µæŠ¤é€ï¼Ÿ",choiceA:{label:"æ´¾å…µæŠ¤é€",hint:"ä¿æŠ¤è¡¥ç»™ï¼ŒæŸå¤±å…µåŠ›",effect:{troops:-4e3,discipline:5}},choiceB:{label:"æ”¾å¼ƒè¡¥ç»™",hint:"ä¿å­˜å…µåŠ›ï¼Œåç»­å›°éš¾",effect:{discipline:-12,troopsPct:-2}}},{id:"ADV_RANDOM_LOOTING",title:"å£«å…µåŠ«æ æ‘åº„",icon:"ğŸ”¥",type:"moral",probability:.2,trigger:a=>a.phase==="ADVANCE"&&a.discipline<70,story:"å£«å…µä»¬å¼€å§‹åŠ«æ æ²¿é€”æ‘åº„ã€‚ä¸¥æƒ©è¿˜æ˜¯é»˜è®¸ï¼Ÿ",choiceA:{label:"ä¸¥å‰æƒ©ç½š",hint:"æ¢å¤çºªå¾‹ï¼Œå¤„å†³å£«å…µ",effect:{troops:-800,discipline:18}},choiceB:{label:"é»˜è®¸è¡Œä¸º",hint:"è·å¾—è¡¥ç»™ï¼Œçºªå¾‹ä¸‹é™",effect:{discipline:-22}}},{id:"ADV_RANDOM_DESERTION",title:"é€ƒå…µæ½®",icon:"ğŸƒ",type:"moral",probability:.2,trigger:a=>a.phase==="ADVANCE"&&a.discipline<60,story:"å¤§é‡å£«å…µè¶å¤œè‰²é€ƒè·‘ã€‚æ˜¯å¦è¿½æ•ï¼Ÿ",choiceA:{label:"è¿½æ•å¤„å†³",hint:"æ€é¸¡å„†çŒ´ï¼Œæ¢å¤çºªå¾‹",effect:{troops:-2500,discipline:12}},choiceB:{label:"æ”¾ä»»ä¸ç®¡",hint:"èŠ‚çœç²¾åŠ›ï¼Œé€ƒå…µæ›´å¤š",effect:{troopsPct:-6,discipline:-18}}},{id:"ADV_RANDOM_ALLIES",title:"ç›Ÿå†›åŠ¨æ‘‡",icon:"ğŸ¤",type:"critical",probability:.15,trigger:a=>a.phase==="ADVANCE"&&a.troops<35e4,story:"æ™®é²å£«å’Œå¥¥åœ°åˆ©ç›Ÿå†›å¼€å§‹åŠ¨æ‘‡ï¼Œè€ƒè™‘é€€å‡ºæˆ˜äº‰ã€‚",choiceA:{label:"æ‹¿ç ´ä»‘äº²è‡ªåŠè¯´",hint:"æ¶ˆè€—å¥åº·ï¼Œç¨³å®šç›Ÿå‹",effect:{health:-12,discipline:12}},choiceB:{label:"è®©ä»–ä»¬ç¦»å¼€",hint:"å¤±å»ç›Ÿå†›ï¼Œå‡å°‘è´Ÿæ‹…",effect:{troops:-25e3,discipline:-8}}},{id:"ADV_RANDOM_SCOUT",title:"ä¾¦å¯Ÿå…µæŠ¥å‘Š",icon:"ğŸ”­",type:"logistics",probability:.15,trigger:a=>a.phase==="ADVANCE",story:"ä¾¦å¯Ÿå…µå‘ç°å‰æ–¹æœ‰ä¿„å†›åŸ‹ä¼ã€‚ç»•é“è¿˜æ˜¯å¼ºæ”»ï¼Ÿ",choiceA:{label:"ç»•é“é¿æ•Œ",hint:"å®‰å…¨ä½†å»¶è¯¯æ—¶é—´",effect:{day:1,troops:-3e3}},choiceB:{label:"ç›´æ¥çªç ´",hint:"å¿«é€Ÿä½†æœ‰æŸå¤±",effect:{troops:-1e4,discipline:-8}}}],St=[{id:"RET_RANDOM_FROZEN",title:"å†»æ­»æ½®",icon:"ğŸ§Š",type:"disaster",probability:.4,trigger:a=>a.phase==="RETREAT"&&a.temperature<-15,story:"è·¯è¾¹åˆå¤šäº†æ•°ç™¾å…·å†»åƒµçš„å°¸ä½“ã€‚å£«å…µä»¬éº»æœ¨åœ°èµ°è¿‡ï¼Œä¸å†æœ‰äººåœä¸‹ã€‚",isAutoTrigger:!0,effect:{troops:-3e3,discipline:-8},message:"è·¯è¾¹åˆå¤šäº†æ•°ç™¾å…·å†»åƒµçš„å°¸ä½“..."},{id:"RET_RANDOM_COSSACK_RAID",title:"å“¥è¨å…‹è¢­å‡»",icon:"ğŸ",type:"battle",probability:.35,trigger:a=>a.phase==="RETREAT",story:"å“¥è¨å…‹éª‘å…µçªç„¶è¢­å‡»äº†é˜Ÿä¼ä¾§ç¿¼ï¼",choiceA:{label:"ç»„ç»‡é˜²å¾¡",hint:"å‡å°‘æŸå¤±ï¼Œæ¶ˆè€—ä½“åŠ›",effect:{troops:-5e3,discipline:5}},choiceB:{label:"åŠ é€Ÿé€ƒè·‘",hint:"å¿«é€Ÿè„±ç¦»ï¼ŒæŸå¤±æ›´å¤§",effect:{troops:-1e4,discipline:-12}}},{id:"RET_RANDOM_HORSES_DIE",title:"æˆ˜é©¬å…¨ç­",icon:"ğŸ´",type:"logistics",probability:.3,trigger:a=>a.phase==="RETREAT"&&a.temperature<-20,story:"æˆ˜é©¬å› è·¯é¢ç»“å†°ä¸æ–­æ‘”æ–­è…¿ã€‚å¤§ç‚®å’Œè¡¥ç»™è½¦æ— æ³•ç§»åŠ¨ã€‚",choiceA:{label:"æŠ›å¼ƒç«ç‚®",hint:"è½»è£…å‰è¿›ï¼Œå¤±å»æˆ˜æ–—åŠ›",effect:{discipline:-22,troops:-4e3}},choiceB:{label:"å£«å…µæ‹–æ‹½",hint:"ä¿ç•™æ­¦å™¨ï¼Œä½“åŠ›æ¶ˆè€—å¤§",effect:{troops:-1e4,discipline:-18}}},{id:"RET_RANDOM_FOOD_OUT",title:"é£Ÿç‰©è€—å°½",icon:"ğŸ–",type:"logistics",probability:.35,trigger:a=>a.phase==="RETREAT",story:"æœ€åçš„å£ç²®å·²ç»åƒå®Œã€‚å£«å…µä»¬é¥¥è‚ è¾˜è¾˜ï¼Œå¼€å§‹å¯»æ‰¾ä»»ä½•å¯ä»¥åƒçš„ä¸œè¥¿ã€‚",choiceA:{label:"å®°æ€æˆ˜é©¬",hint:"æš‚æ—¶å……é¥¥ï¼Œå¤±å»æœºåŠ¨",effect:{troops:-3e3,discipline:-8}},choiceB:{label:"å¼ºè¡Œè§…é£Ÿ",hint:"åˆ†æ•£å¯»æ‰¾ï¼ŒæŸå¤±æ›´å¤§",effect:{troopsPct:-6,day:1}}},{id:"RET_RANDOM_MUTINY_SMALL",title:"å£«å…µäº’ç›¸æ®‹æ€",icon:"âš”ï¸",type:"horror",probability:.3,trigger:a=>a.phase==="RETREAT"&&a.discipline<40,story:"ä¸ºäº†äº‰å¤ºé£Ÿç‰©å’Œè¡£ç‰©ï¼Œå£«å…µä»¬å¼€å§‹äº’ç›¸æ®‹æ€ã€‚",choiceA:{label:"ä¸¥å‰é•‡å‹",hint:"æ¢å¤ç§©åºï¼Œå¤„å†³é—¹äº‹è€…",effect:{troops:-1500,discipline:12}},choiceB:{label:"ççœ¼é—­çœ¼",hint:"ä¿å­˜ç²¾åŠ›ï¼Œæ··ä¹±åŠ å‰§",effect:{troopsPct:-4,discipline:-28}}},{id:"RET_RANDOM_CANNIBALISM",title:"å‘ç°é£Ÿäººç°è±¡",icon:"ğŸ’€",type:"horror",probability:.25,trigger:a=>a.phase==="RETREAT"&&a.discipline<30&&a.temperature<-20,story:'æœ‰å£«å…µç§ä¸‹å”®å–"å¯ç–‘çš„è‚‰æ’"ã€‚å¤§å®¶éƒ½çŸ¥é“é‚£æ˜¯ä»€ä¹ˆï¼Œä½†å¤ªé¥¿äº†ã€‚',historicalNote:"å†å²è®°å½•ä¸­ç¡®å®æœ‰é£Ÿäººäº‹ä»¶å‘ç”Ÿï¼Œè¿™æ˜¾ç¤ºäº†å£«å…µä»¬æ‰€ç»å†çš„æç«¯ç»æœ›ã€‚",choiceA:{label:"å¤„å†³å¹¶ç¦æ­¢",hint:"ç»´æŠ¤äººæ€§ï¼Œé¥¥é¥¿åŠ å‰§",effect:{troops:-800,discipline:18,troopsPct:-4}},choiceB:{label:"å‡è£…ä¸çŸ¥",hint:"å‡å°‘é¥¥é¥¿æ­»äº¡ï¼Œäººæ€§æ³¯ç­",effect:{troops:-2500,discipline:-45}}},{id:"RET_RANDOM_OFFICER_FLEE",title:"å†›å®˜å›é€ƒ",icon:"ğŸƒ",type:"moral",probability:.25,trigger:a=>a.phase==="RETREAT"&&a.discipline<35,story:"å‡ åé«˜çº§å†›å®˜è¶å¤œè‰²é€ƒè·‘ï¼Œå¸¦èµ°äº†éƒ¨åˆ†å£«å…µã€‚",choiceA:{label:"è¿½æ•å¤„å†³",hint:"æ€é¸¡å„†çŒ´",effect:{troops:-1e3,discipline:10}},choiceB:{label:"æ”¾ä»»ç¦»å¼€",hint:"å‡å°‘è´Ÿæ‹…",effect:{discipline:-18,troopsPct:-3}}},{id:"RET_RANDOM_WOUNDED",title:"ä¼¤å‘˜æ³æ±‚",icon:"ğŸ¤•",type:"moral",probability:.3,trigger:a=>a.phase==="RETREAT",story:"æ•°åƒåä¼¤å‘˜æ³æ±‚å¤§éƒ¨é˜Ÿå¸¦ä¸Šä»–ä»¬ã€‚ä»–ä»¬çš„çœ¼ç¥å……æ»¡ç»æœ›ã€‚",choiceA:{label:"å¸¦ä¸Šä»–ä»¬",hint:"å‡é€Ÿï¼Œè¡¥ç»™æ¶ˆè€—å¤§",effect:{troops:-6e3,day:1}},choiceB:{label:"æŠ›å¼ƒä»–ä»¬",hint:"å…¨é€Ÿå‰è¿›ï¼Œå£«æ°”å´©æºƒ",effect:{discipline:-25}}},{id:"RET_RANDOM_SUPPLY_FIRE",title:"è¡¥ç»™è½¦å¤±ç«",icon:"ğŸ”¥",type:"disaster",probability:.2,trigger:a=>a.phase==="RETREAT",story:"ä¸€è¾†è¡¥ç»™è½¦æ„å¤–èµ·ç«ï¼Œç«åŠ¿è¿…é€Ÿè”“å»¶åˆ°å…¶ä»–è½¦è¾†ã€‚",isAutoTrigger:!0,effect:{troops:-5e3,discipline:-12},message:"è¡¥ç»™è½¦å¤±ç«ï¼å¤§é‡ç‰©èµ„åŒ–ä¸ºç°çƒ¬ï¼"},{id:"RET_RANDOM_PRAYER",title:"å£«å…µé›†ä½“ç¥ˆç¥·",icon:"ğŸ™",type:"moral",probability:.2,trigger:a=>a.phase==="RETREAT"&&a.discipline<50,story:"å£«å…µä»¬åœä¸‹æ¥é›†ä½“ç¥ˆç¥·ï¼Œè¯·æ±‚ä¸Šå¸çš„å®½æ•å’Œä¿ä½‘ã€‚",choiceA:{label:"å…è®¸å¹¶å‚ä¸",hint:"æ¢å¤å£«æ°”ï¼Œå»¶è¯¯æ—¶é—´",effect:{discipline:10,day:1}},choiceB:{label:"å‚¬ä¿ƒå‰è¿›",hint:"ä¿æŒé€Ÿåº¦ï¼Œå£«æ°”ä¸‹é™",effect:{discipline:-8}}},{id:"RET_RANDOM_SUPPLY_FOUND",title:"å‘ç°ä¿„å†›è¡¥ç»™ç«™",icon:"ğŸ",type:"logistics",probability:.08,trigger:a=>a.phase==="RETREAT"&&Math.random()<.08,story:"ä¾¦å¯Ÿå…µå‘ç°äº†ä¸€ä¸ªè¢«é—å¼ƒçš„ä¿„å†›è¡¥ç»™ç«™ï¼é‡Œé¢æœ‰é£Ÿç‰©å’Œè¡£ç‰©ï¼",isAutoTrigger:!0,effect:{discipline:18,troops:0},message:"å‘ç°ä¿„å†›è¡¥ç»™ç«™ï¼å£«æ°”å¤§æŒ¯ï¼"}],Nt=[{id:"RANDOM_FROZEN",icon:"ğŸ§Š",trigger:a=>a.phase==="RETREAT"&&a.temperature<-15&&Math.random()<.35,effect:{discipline:-6,troops:-2e3},message:"è·¯è¾¹åˆå¤šäº†æ•°ç™¾å…·å†»åƒµçš„å°¸ä½“..."},{id:"RANDOM_GUERRILLA",icon:"ğŸ”ª",trigger:a=>a.phase==="RETREAT"&&Math.random()<.25,effect:{troops:-3e3,discipline:-5},message:"æ¸¸å‡»é˜Ÿè¢­å‡»äº†è¡¥ç»™é˜Ÿï¼ŒæŠ¢èµ°äº†æœ€åçš„é¢åŒ…ã€‚"},{id:"RANDOM_DESERTION",icon:"ğŸƒ",trigger:a=>a.discipline<40&&Math.random()<.45,effect:{troopsPct:-3,discipline:-6},message:"åˆæœ‰æ•°åƒäººè¶å¤œè‰²é€ƒæ•£ï¼Œæ¶ˆå¤±åœ¨é›ªåŸä¸­ã€‚"},{id:"RANDOM_DISEASE",icon:"ğŸ¦ ",trigger:a=>a.phase==="ADVANCE"&&Math.random()<.3,effect:{troops:-4e3,discipline:-4},message:"ä¼¤å¯’å’Œç—¢ç–¾ç»§ç»­è”“å»¶ï¼Œæ¯å¤©éƒ½æœ‰äººå€’ä¸‹ã€‚"},{id:"RANDOM_FROSTBITE",icon:"â„ï¸",trigger:a=>a.phase==="RETREAT"&&a.temperature<-25&&Math.random()<.4,effect:{troops:-4e3,discipline:-8},message:"æå¯’å¤©æ°”ï¼å¤§é‡å£«å…µå› å†»ä¼¤æ— æ³•è¡Œèµ°..."},{id:"RANDOM_COLLAPSE",icon:"ğŸ’€",trigger:a=>a.troops<3e4&&a.discipline<20&&Math.random()<.5,effect:{troopsPct:-5,discipline:-10},message:"å†›é˜Ÿå·²ç»å®Œå…¨å´©æºƒï¼Œå£«å…µä»¬å››æ•£å¥”é€ƒ..."}],O={ADVANCE:{BASE_LOSS_RATE:.012,DISEASE_LOSS_RATE:.008,DESERTION_BASE:.002,BATTLE_LOSS_MIN:5e3,BATTLE_LOSS_MAX:35e3},RETREAT:{BASE_LOSS:2500,TEMP_MULTIPLIER:{NORMAL:1,MILD:1.5,COLD:2.5,SEVERE:4,EXTREME:6},DISCIPLINE_MULTIPLIER:{EXCELLENT:.8,GOOD:1,LOW:1.5,CRITICAL:2.5,COLLAPSE:4},HEALTH_MULTIPLIER:{HEALTHY:.9,NORMAL:1,WEAK:1.3,CRITICAL:1.8},TEMP_DECREASE_RATE:-2.5,DISCIPLINE_DECREASE:-5},DISCIPLINE:{ADVANCE_DECREASE:-2,RETREAT_DECREASE:-4,COLD_PENALTY:{MILD:-2,SEVERE:-4,EXTREME:-6},TROOPS_PENALTY:{LOW:-2,CRITICAL:-4,COLLAPSE:-8},HEALTH_PENALTY:{WEAK:-2,CRITICAL:-6},MUTINY_THRESHOLD:25,MUTINY_PROBABILITY:.4,COLLAPSE_THRESHOLD:10},NAPOLEON_HEALTH:{INSPIRE_COST:15,BATTLE_COST:10,COLD_DAMAGE:2,SICK_THRESHOLD:20},DEATH_SPIRAL:{THRESHOLD_1:15e4,MULTIPLIER_1:1.2,THRESHOLD_2:8e4,MULTIPLIER_2:1.5,DISCIPLINE_PENALTY_2:-6,THRESHOLD_3:3e4,MULTIPLIER_3:2,DISCIPLINE_PENALTY_3:-10,THRESHOLD_4:15e3,MULTIPLIER_4:3,DISCIPLINE_PENALTY_4:-15},DISEASE:{BASE_INFECTION_RATE:.015,CROWDING_THRESHOLD:2e5,CROWDING_MULTIPLIER:1.4,COLD_MULTIPLIER:1.3,LOW_SUPPLY_MULTIPLIER:1.5,QUARANTINE_REDUCTION:.5,REST_RECOVERY_BONUS:2},SUPPLY:{DAILY_CONSUMPTION:1.5,COLD_CONSUMPTION_BONUS:.5,FORCED_MARCH_BONUS:.3,LOW_THRESHOLD:50,CRITICAL_THRESHOLD:20,FORAGE_GAIN:15,FORAGE_DISCIPLINE_COST:-8},MARCH:{BASE_SPEED:1,FORCED_MARCH_SPEED:1.5,REST_SPEED:0,TERRAIN_MODIFIERS:{plain:1,forest:.8,mixed:.9,road:1.1,devastated:.7,frozen:.6},DAILY_LOSS_BASE:800},RANDOM_VARIANCE:{MIN:.85,MAX:1.15},ENDING_THRESHOLDS:{S_RANK:3e4,A_RANK:1e4,B_RANK:5e3}};function we(a,i=O){const{phase:h,troops:o,temperature:m,discipline:N,napoleonHealth:R,supplies:n,armyHealth:v}=a;let E=0;const _={disease:0,environment:0,desertion:0,other:0};if(v){const A=Dt(v,n);_.disease=A,E+=A}const P=Mt(m,n,h,o);_.environment=P,E+=P;const j=bt(N,o,i);return _.desertion=j,E+=j,_.other=Math.floor(i.MARCH.DAILY_LOSS_BASE*me(i)),E+=_.other,R<50&&(E=Math.floor(E*(1+(50-R)/100))),E=Math.floor(E*Ve(o,i)),{total:E,breakdown:_}}function Dt(a,i,h){let o=0;const m=(i==null?void 0:i.medicine)<50?1.3:1;return o+=Math.floor(a.infected.typhus*.045*m),o+=Math.floor(a.infected.dysentery*.025*m),o+=Math.floor(a.infected.frostbite*.06*m),o+=Math.floor(a.infected.starvation*.035),o}function Mt(a,i,h,o,m){let N=0;if(a<0){let R=.01;a<-10&&(R=.03),a<-20&&(R=.06),a<-30&&(R=.1),(i==null?void 0:i.clothing)<50&&(R*=1.3),(i==null?void 0:i.clothing)<20&&(R*=1.5),N+=Math.floor(o*R)}return(i==null?void 0:i.food)<50&&(N+=Math.floor(o*.005)),(i==null?void 0:i.food)<20&&(N+=Math.floor(o*.015)),N}function bt(a,i,h){let o=.002;return a<70&&(o=.005),a<50&&(o=.01),a<30&&(o=.025),a<15&&(o=.05),Math.floor(i*o*me(h))}function Ve(a,i){return a<i.DEATH_SPIRAL.THRESHOLD_4?i.DEATH_SPIRAL.MULTIPLIER_4:a<i.DEATH_SPIRAL.THRESHOLD_3?i.DEATH_SPIRAL.MULTIPLIER_3:a<i.DEATH_SPIRAL.THRESHOLD_2?i.DEATH_SPIRAL.MULTIPLIER_2:a<i.DEATH_SPIRAL.THRESHOLD_1?i.DEATH_SPIRAL.MULTIPLIER_1:1}function me(a){return a.RANDOM_VARIANCE.MIN+Math.random()*(a.RANDOM_VARIANCE.MAX-a.RANDOM_VARIANCE.MIN)}function Ot(a,i=O){const{troops:h,temperature:o,supplies:m,armyHealth:N}=a,R={typhus:0,dysentery:0,frostbite:0,starvation:0},n={typhus:0,dysentery:0,frostbite:0,starvation:0},v=N.healthy,E=h>i.DISEASE.CROWDING_THRESHOLD?i.DISEASE.CROWDING_MULTIPLIER:1;o<0&&i.DISEASE.COLD_MULTIPLIER;const _=m.medicine<50?i.DISEASE.LOW_SUPPLY_MULTIPLIER:1;if(R.typhus=Math.floor(v*.015*E*_),n.typhus=Math.floor(N.infected.typhus*.008),R.dysentery=Math.floor(v*.02*_),n.dysentery=Math.floor(N.infected.dysentery*.015),o<0){let P=.03;o<-10&&(P=.1),o<-20&&(P=.25),o<-30&&(P=.45),R.frostbite=Math.floor(v*P)}return n.frostbite=Math.floor(N.infected.frostbite*.003),m.food<50&&(R.starvation=Math.floor(v*.06)),m.food<20&&(R.starvation=Math.floor(v*.15)),n.starvation=m.food>50?Math.floor(N.infected.starvation*.025):0,{newInfections:R,recoveries:n}}function Ct(a,i=O){const{troops:h,temperature:o}=a,m=h/1e4,N={food:m*i.SUPPLY.DAILY_CONSUMPTION,ammunition:m*.3,medicine:m*.8,clothing:m*.2};return o<0&&(N.food*=1+i.SUPPLY.COLD_CONSUMPTION_BONUS,N.clothing*=1.5),N}function Pt(a,i,h){var m;const{requirement:o}=a;return h.cooldowns[a.id]>0?{canUse:!1,reason:"æŠ€èƒ½å†·å´ä¸­"}:a.maxUses>0&&(h.useCounts[a.id]||0)>=a.maxUses?{canUse:!1,reason:"ä½¿ç”¨æ¬¡æ•°å·²è¾¾ä¸Šé™"}:o.napoleonHealth&&i.napoleonHealth<o.napoleonHealth?{canUse:!1,reason:`éœ€è¦çš‡å¸å¥åº·>${o.napoleonHealth}`}:o.discipline&&i.discipline<o.discipline?{canUse:!1,reason:`éœ€è¦çºªå¾‹>${o.discipline}`}:o.troops&&i.troops<o.troops?{canUse:!1,reason:`éœ€è¦å…µåŠ›>${o.troops}`}:o.supplies&&((m=i.supplies)==null?void 0:m.overall)<o.supplies?{canUse:!1,reason:`éœ€è¦è¡¥ç»™>${o.supplies}%`}:o.phase&&i.phase!==o.phase?{canUse:!1,reason:`ä»…${o.phase==="ADVANCE"?"è¿›æ”»":"æ’¤é€€"}é˜¶æ®µå¯ç”¨`}:o.infectionRate&&i.infectionRate<o.infectionRate?{canUse:!1,reason:`æ„ŸæŸ“ç‡éœ€>${o.infectionRate}%`}:{canUse:!0}}function Be(a,i=O){return a.phase==="ADVANCE"?gt(a,i):Ht(a,i)}function gt(a,i){const h=Math.floor(a.troops*i.ADVANCE.BASE_LOSS_RATE),o=Math.floor(a.troops*i.ADVANCE.DISEASE_LOSS_RATE),m=i.ADVANCE.DESERTION_BASE+(100-a.discipline)*.002,N=Math.floor(a.troops*m),R=me(i);return Math.floor((h+o+N)*R)}function Ht(a,i){let h=i.RETREAT.BASE_LOSS;const o=a.temperature;let m=i.RETREAT.TEMP_MULTIPLIER.NORMAL;o<0&&o>=-10?m=i.RETREAT.TEMP_MULTIPLIER.MILD:o<-10&&o>=-20?m=i.RETREAT.TEMP_MULTIPLIER.COLD:o<-20&&o>=-30?m=i.RETREAT.TEMP_MULTIPLIER.SEVERE:o<-30&&(m=i.RETREAT.TEMP_MULTIPLIER.EXTREME);const N=a.discipline;let R=i.RETREAT.DISCIPLINE_MULTIPLIER.GOOD;N>=80?R=i.RETREAT.DISCIPLINE_MULTIPLIER.EXCELLENT:N>=50?R=i.RETREAT.DISCIPLINE_MULTIPLIER.GOOD:N>=30?R=i.RETREAT.DISCIPLINE_MULTIPLIER.LOW:N>=10?R=i.RETREAT.DISCIPLINE_MULTIPLIER.CRITICAL:R=i.RETREAT.DISCIPLINE_MULTIPLIER.COLLAPSE;const n=a.napoleonHealth||100;let v=i.RETREAT.HEALTH_MULTIPLIER.NORMAL;n>=70?v=i.RETREAT.HEALTH_MULTIPLIER.HEALTHY:n>=40?v=i.RETREAT.HEALTH_MULTIPLIER.NORMAL:n>=20?v=i.RETREAT.HEALTH_MULTIPLIER.WEAK:v=i.RETREAT.HEALTH_MULTIPLIER.CRITICAL;const E=Ve(a.troops,i),_=me(i);return Math.floor(h*m*R*v*E*_)}function Ue(a,i=O){let h=a.phase==="ADVANCE"?i.DISCIPLINE.ADVANCE_DECREASE:i.DISCIPLINE.RETREAT_DECREASE;if(a.phase==="RETREAT"){a.temperature<-10&&(h+=i.DISCIPLINE.COLD_PENALTY.MILD),a.temperature<-20&&(h+=i.DISCIPLINE.COLD_PENALTY.SEVERE),a.temperature<-30&&(h+=i.DISCIPLINE.COLD_PENALTY.EXTREME),a.troops<1e5&&(h+=i.DISCIPLINE.TROOPS_PENALTY.LOW),a.troops<5e4&&(h+=i.DISCIPLINE.TROOPS_PENALTY.CRITICAL),a.troops<2e4&&(h+=i.DISCIPLINE.TROOPS_PENALTY.COLLAPSE);const o=a.napoleonHealth||100;o<40&&(h+=i.DISCIPLINE.HEALTH_PENALTY.WEAK),o<20&&(h+=i.DISCIPLINE.HEALTH_PENALTY.CRITICAL)}return h}function Le(a,i=O){return a.discipline<i.DISCIPLINE.MUTINY_THRESHOLD?Math.random()<i.DISCIPLINE.MUTINY_PROBABILITY:!1}function Ie(a,i=O){return a.napoleonHealth<i.NAPOLEON_HEALTH.SICK_THRESHOLD&&a.napoleonHealth>0}const kt={0:{days:4,terrain:"plain",from:"æ¶…æ›¼æ²³",to:"ç»´å°”çº½æ–¯",desc:"ç©¿è¶Šç«‹é™¶å®›å¹³åŸ"},1:{days:12,terrain:"forest",from:"ç»´å°”çº½æ–¯",to:"ç»´æ·å¸ƒæ–¯å…‹",desc:"ç©¿è¶Šç™½ä¿„ç½—æ–¯æ£®æ—"},2:{days:14,terrain:"mixed",from:"ç»´æ·å¸ƒæ–¯å…‹",to:"æ–¯æ‘©æ£±æ–¯å…‹",desc:"ä¿„å†›ç„¦åœŸæ”¿ç­–åŒºåŸŸ"},3:{days:16,terrain:"road",from:"æ–¯æ‘©æ£±æ–¯å…‹",to:"åšç½—å­£è¯º",desc:"é€šå¾€è«æ–¯ç§‘çš„å¤§é“"},4:{days:7,terrain:"road",from:"åšç½—å­£è¯º",to:"è«æ–¯ç§‘",desc:"æœ€åçš„å†²åˆº"},5:{days:5,terrain:"road",from:"è«æ–¯ç§‘",to:"å°é›…ç½—æ–¯æ‹‰éŸ¦èŒ¨",desc:"è¢«è¿«åŸè·¯è¿”å›"},6:{days:8,terrain:"devastated",from:"å°é›…ç½—æ–¯æ‹‰éŸ¦èŒ¨",to:"ç»´äºšå…¹é©¬",desc:"å·²è¢«æ‘§æ¯çš„åœŸåœ°"},7:{days:6,terrain:"frozen",from:"ç»´äºšå…¹é©¬",to:"æ–¯æ‘©æ£±æ–¯å…‹",desc:"ä¸¥å¯’å¼€å§‹"},8:{days:5,terrain:"frozen",from:"æ–¯æ‘©æ£±æ–¯å…‹",to:"å…‹æ‹‰æ–¯è¯ºè€¶",desc:"å“¥è¨å…‹éª‘å…µè¢­æ‰°"},9:{days:9,terrain:"frozen",from:"å…‹æ‹‰æ–¯è¯ºè€¶",to:"åˆ«åˆ—æ´¥çº³æ²³",desc:"æœ€è‰°éš¾çš„è·¯æ®µ"},10:{days:7,terrain:"frozen",from:"åˆ«åˆ—æ´¥çº³æ²³",to:"ç»´å°”çº½æ–¯",desc:"æ¸¡æ²³åçš„æºƒè´¥"},11:{days:3,terrain:"frozen",from:"ç»´å°”çº½æ–¯",to:"æ¶…æ›¼æ²³",desc:"ç»ˆç‚¹åœ¨æœ›"}},wt={napoleonInspire:{id:"napoleonInspire",name:"çš‡å¸äº²ä¸´",icon:"ğŸ‘‘",description:"æ‹¿ç ´ä»‘äº²è‡ªå·¡è§†éƒ¨é˜Ÿï¼Œæå¤§æå‡å£«æ°”",effect:{discipline:25,morale:30,napoleonHealth:-15},cooldown:5,maxUses:3,requirement:{napoleonHealth:30}},napoleonTactics:{id:"napoleonTactics",name:"æˆ˜æœ¯å¤©æ‰",icon:"ğŸ¯",description:"æ‹¿ç ´ä»‘äº²è‡ªæŒ‡æŒ¥æˆ˜æ–—ï¼Œå‡å°‘æˆ˜æ–—æŸå¤±",effect:{battleLossReduction:.3,napoleonHealth:-10},cooldown:3,maxUses:5,requirement:{napoleonHealth:20,inBattle:!0}},forceMarching:{id:"forceMarching",name:"å¼ºè¡Œå†›",icon:"ğŸƒ",description:"åŠ å¿«è¡Œå†›é€Ÿåº¦ï¼Œä½†å¢åŠ ç–²åŠ³å’Œç–¾ç—…",effect:{marchSpeed:1.5,diseaseRate:1.3,discipline:-5},cooldown:2,maxUses:-1,requirement:{discipline:40}},restAndRecover:{id:"restAndRecover",name:"æ‰è¥ä¼‘æ•´",icon:"ğŸ•ï¸",description:"åœæ­¢è¡Œå†›ï¼Œè®©éƒ¨é˜Ÿä¼‘æ¯æ¢å¤",effect:{marchDays:1,recoveryRate:2,discipline:5,diseaseRate:.7},cooldown:0,maxUses:-1,requirement:{}},quarantine:{id:"quarantine",name:"éš”ç¦»ç—…æ‚£",icon:"ğŸ¥",description:"å°†ç—…æ‚£éš”ç¦»ï¼Œå‡ç¼“ç–¾ç—…ä¼ æ’­",effect:{infectionRate:.5,marchSpeed:.7,morale:-10},cooldown:3,maxUses:-1,requirement:{infectionRate:10}},forage:{id:"forage",name:"å°±åœ°å¾ç²®",icon:"ğŸŒ¾",description:"æ´¾é£éƒ¨é˜Ÿæœé›†é£Ÿç‰©å’Œè¡¥ç»™",effect:{supplies:20,discipline:-8},cooldown:2,maxUses:-1,requirement:{phase:"ADVANCE"}},sacrificeRearguard:{id:"sacrificeRearguard",name:"ç‰ºç‰²åå«",icon:"âš”ï¸",description:"ç•™ä¸‹åå«éƒ¨é˜Ÿæ–­åï¼Œä¸»åŠ›åŠ é€Ÿæ’¤é€€",effect:{troops:-5e3,pursuitReduction:.7,marchSpeed:1.3,discipline:-15},cooldown:5,maxUses:3,requirement:{troops:2e4,phase:"RETREAT"}},distributeReserves:{id:"distributeReserves",name:"åˆ†å‘å‚¨å¤‡",icon:"ğŸ“¦",description:"æ‰“å¼€å‚¨å¤‡ç‰©èµ„ï¼Œæå‡å£«æ°”",effect:{supplies:-30,morale:20,discipline:10},cooldown:4,maxUses:2,requirement:{supplies:30}}},Bt={class:"layer-1-gameboard"},Ut={key:0,class:"status-hud"},xt={class:"hud-item"},Vt={class:"hud-content"},$t={class:"hud-value"},Yt={class:"hud-item"},Gt={class:"hud-content"},Ft={class:"hud-item"},Kt={class:"hud-content"},Wt={class:"hud-item"},qt={class:"hud-content"},jt={class:"hud-item"},zt={class:"hud-content"},Xt={class:"hud-item"},Zt={class:"hud-content"},Qt={class:"hud-item"},Jt={class:"hud-content"},ea={class:"hud-value"},ta={class:"hud-badge"},aa={key:"discipline",class:"warning-banner discipline-warn"},la={key:"health",class:"warning-banner health-warn"},sa={key:"temp",class:"warning-banner temp-warn"},ia={key:"troops",class:"warning-banner troops-warn"},oa={key:"disease",class:"warning-banner disease-warn"},na={key:"supply",class:"warning-banner supply-warn"},ca={key:2,class:"map-area"},ra={class:"campaign-map",viewBox:"0 0 800 350"},ua=["d"],va=["d"],da=["cx","cy","r"],fa=["x","y"],ha={class:"log-list"},pa={class:"log-date"},Ea={class:"log-text"},Aa={key:0,class:"march-progress"},ma={class:"march-route"},_a={class:"progress-bar"},Ra={class:"march-day"},Ta={class:"current-pos"},ya={class:"army-status"},La={class:"status-row"},Ia={class:"status-row"},Sa={class:"infected"},Na={key:0,class:"disease-breakdown"},Da={key:0},Ma={key:1},ba={key:2},Oa={key:3},Ca={class:"supply-details"},Pa={class:"supply-row"},ga={class:"mini-bar"},Ha={class:"supply-row"},ka={class:"mini-bar"},wa={class:"supply-row"},Ba={class:"mini-bar"},Ua={class:"supply-row"},xa={class:"mini-bar"},Va={key:1,class:"action-area"},$a={class:"hint"},Ya={key:2,class:"animating-hint"},Ga={class:"layer-2-effects"},Fa={class:"layer-3-ui"},Ka={key:0,class:"intro-modal"},Wa={key:0,class:"event-overlay fire-effect"},qa={class:"modal-icon"},ja={class:"event-story"},za={key:0,class:"historical-note"},Xa={class:"choices"},Za={class:"choice-effects"},Qa={key:0,class:"effect troops"},Ja={key:1,class:"effect troops"},el={key:2,class:"effect discipline"},tl={key:3,class:"effect health"},al={key:4,class:"effect time"},ll={class:"choice-hint"},sl={class:"choice-effects"},il={key:0,class:"effect troops"},ol={key:1,class:"effect troops"},nl={key:2,class:"effect discipline"},cl={key:3,class:"effect health"},rl={key:4,class:"effect time"},ul={class:"choice-hint"},vl={class:"modal-icon"},dl={class:"event-story"},fl={key:0,class:"historical-note"},hl={class:"choices"},pl={class:"choice-effects"},El={key:0,class:"effect troops"},Al={key:1,class:"effect troops"},ml={key:2,class:"effect discipline"},_l={key:3,class:"effect health"},Rl={key:4,class:"effect time"},Tl={class:"choice-hint"},yl={class:"choice-effects"},Ll={key:0,class:"effect troops"},Il={key:1,class:"effect troops"},Sl={key:2,class:"effect discipline"},Nl={key:3,class:"effect health"},Dl={key:4,class:"effect time"},Ml={class:"choice-hint"},bl={key:0,class:"event-overlay mutiny"},Ol={key:0,class:"event-overlay"},Cl={key:0,class:"event-overlay daily-report-overlay"},Pl={class:"event-modal daily-report"},gl={class:"report-content"},Hl={class:"report-section"},kl={class:"loss-breakdown"},wl={key:0,class:"loss-item"},Bl={key:1,class:"loss-item"},Ul={key:2,class:"loss-item"},xl={key:3,class:"loss-item"},Vl={key:0,class:"report-section"},$l={class:"report-section"},Yl={class:"comparison-content"},Gl={class:"comparison-text"},Fl={class:"comparison-note"},Kl={class:"comparison-diff"},Wl={key:1,class:"result-modal"},ql={class:"result-card"},jl={class:"end-subtitle"},zl={class:"stats"},Xl={class:"stat-row"},Zl={class:"stat-row"},Ql={class:"loss"},Jl={class:"end-quote"},es={class:"compare"},ts={class:"bar-row"},as={class:"bar"},xe=5,ls={__name:"GamePage",setup(a){const i=Tt(),h=L("INTRO"),o=L("ADVANCE"),m=L(!1),N=L(!1),R=L(!1),n=L(422e3),v=L(100),E=L(100),_=L(22),P=L(0),j=L(3),A=Ae({food:100,ammunition:100,medicine:100,clothing:100}),I=Ae({healthy:38e4,infected:{typhus:3e4,dysentery:1e4,frostbite:0,starvation:2e3}}),B=L(0),$e=L(0),ue=L(!1),k=L({total:0,breakdown:{},newInfections:0,recoveries:0,supplyConsumed:{}}),ve=Ae({}),ne=Ae({}),d=L(null),Q=L(!1),z=L([]),de=L(new Set),H=L({majorDecisions:0,battles:0,lowestTemp:22,totalCasualties:0}),Se=["6æœˆ24æ—¥","6æœˆ28æ—¥","7æœˆ15æ—¥","7æœˆ28æ—¥","8æœˆ16æ—¥","9æœˆ7æ—¥","9æœˆ14æ—¥","10æœˆ19æ—¥","10æœˆ24æ—¥","11æœˆ3æ—¥","11æœˆ9æ—¥","11æœˆ15æ—¥","11æœˆ26æ—¥","12æœˆ5æ—¥","12æœˆ14æ—¥"],Ne=D(()=>Se[Math.min(P.value,Se.length-1)]),J=D(()=>Object.values(I.infected).reduce((s,t)=>s+t,0)),ee=D(()=>n.value>0?(J.value/n.value*100).toFixed(1):0),Ye=D(()=>Math.max(0,n.value-J.value)),Ge=D(()=>n.value>0?((n.value-J.value)/n.value*100).toFixed(1):0),F=D(()=>Math.floor(A.food*.4+A.ammunition*.2+A.medicine*.2+A.clothing*.2)),U=D(()=>T.value<M.length-1&&kt[T.value]||null),Fe=D(()=>!U.value||U.value.days===0?0:Math.min(100,B.value/U.value.days*100)),M=[{id:0,name:"æ¶…æ›¼æ²³",x:80,y:280,desc:"å‡ºå‘ç‚¹"},{id:1,name:"ç»´å°”çº½æ–¯",x:150,y:240,desc:"ç«‹é™¶å®›é¦–åºœ",event:"ADV_VILNA"},{id:2,name:"ç»´æ·å¸ƒæ–¯å…‹",x:230,y:200,desc:"ä¿„å†›åæ’¤",event:"ADV_SCORCHED"},{id:3,name:"æ–¯æ‘©æ£±æ–¯å…‹",x:340,y:160,desc:"æ”»åŸæˆ˜",event:"ADV_SMOLENSK"},{id:4,name:"åšç½—å­£è¯º",x:470,y:120,desc:"è¡€è…¥ä¼šæˆ˜",event:"ADV_BORODINO"},{id:5,name:"è«æ–¯ç§‘",x:620,y:80,desc:"ç‡ƒçƒ§çš„é¦–éƒ½"},{id:6,name:"å°é›…ç½—æ–¯æ‹‰éŸ¦èŒ¨",x:520,y:140,desc:"è¢«è¿«åŸè·¯",event:"RET_MALOYAROSLAVETS"},{id:7,name:"ç»´äºšå…¹é©¬",x:400,y:180,desc:"ä¸¥å¯’é™ä¸´",event:"RET_FIRST_SNOW"},{id:8,name:"æ–¯æ‘©æ£±æ–¯å…‹",x:300,y:210,desc:"åºŸå¢Ÿæ— è¡¥ç»™",event:"RET_COSSACKS"},{id:9,name:"å…‹æ‹‰æ–¯è¯ºè€¶",x:220,y:240,desc:"å†…ä¼Šçš„ç»å¢ƒ",event:"RET_KRASNOI"},{id:10,name:"åˆ«åˆ—æ´¥çº³æ²³",x:150,y:270,desc:"æœ€åå±éšœ",event:"RET_BEREZINA"},{id:11,name:"ç»´å°”çº½æ–¯",x:100,y:290,desc:"ç»ˆç‚¹åœ¨æœ›",event:"RET_NAPOLEON_LEAVES"},{id:12,name:"æ¶…æ›¼æ²³",x:80,y:310,desc:"å½’æ¥"}],T=L(0),X=D(()=>M[T.value]),Ke=D(()=>M[T.value].x),We=D(()=>M[T.value].y),qe=D(()=>{let s=`M ${M[0].x} ${M[0].y}`;for(let t=1;t<M.length;t++)s+=` L ${M[t].x} ${M[t].y}`;return s}),je=D(()=>{if(T.value===0)return"";let s=`M ${M[0].x} ${M[0].y}`;for(let t=1;t<=T.value;t++)s+=` L ${M[t].x} ${M[t].y}`;return s}),te=D(()=>n.value/422e3*100),ze=D(()=>te.value<20?"critical":te.value<50?"low":"normal"),Xe=D(()=>P.value<=5?"summer":P.value<=9?"autumn":"winter"),Ze=D(()=>o.value!=="RETREAT"?0:Math.min(.8,(P.value-7)*.15)),Qe=D(()=>_.value>=0?0:Math.min(.7,Math.abs(_.value)/25)),Je=D(()=>v.value<10?"collapse":v.value<30?"chaos":te.value<20?"bloody":te.value<50?"messy":""),V=L(!1),ae={5:{troops:95e3,note:"å†å²ä¸Šæ‹¿ç ´ä»‘æ­¤æ—¶æœ‰çº¦95,000äºº"},10:{troops:28e3,note:"å†å²ä¸Šæ­¤æ—¶çº¦28,000äººæ¸¡è¿‡åˆ«åˆ—æ´¥çº³æ²³"},12:{troops:1e4,note:"å†å²ä¸Šçº¦10,000äººæœ€ç»ˆè¿”å›"}},le=D(()=>{const s=ae[T.value];return s?s.troops:0}),et=D(()=>{const s=ae[T.value];return s?s.note:""}),De=D(()=>le.value?n.value>le.value*1.2?"better":n.value<le.value*.8?"worse":"similar":""),f=L(null),ce=L(!1),se=L(!1),K=L(!1),re=L([]);function C(s,t="normal"){re.value.unshift({date:Ne.value,text:s,type:t}),re.value.length>8&&re.value.pop()}const fe=L([]);let tt=0;function ie(s,t="loss"){fe.value.push({id:tt++,text:s,type:t,x:350+Math.random()*100,y:150+Math.random()*50}),setTimeout(()=>fe.value.shift(),1500),N.value=!0,setTimeout(()=>N.value=!1,300)}const he=L(""),Me=L("");function oe(s,t=""){he.value=s,Me.value=t,setTimeout(()=>he.value="",2e3)}function y(s){return s.toLocaleString()}function at(){return Be({phase:o.value,troops:n.value,temperature:_.value,discipline:v.value,napoleonHealth:E.value})}function lt(){return we({phase:o.value,troops:n.value,temperature:_.value,discipline:v.value,napoleonHealth:E.value,supplies:A,armyHealth:I}).total}function st(s){return s===T.value?"current":s<T.value?"visited":"future"}function it(){const s=we({phase:o.value,troops:n.value,temperature:_.value,discipline:v.value,napoleonHealth:E.value,supplies:A,armyHealth:I}),t=Ot({troops:n.value,temperature:_.value,supplies:A,armyHealth:I}),p=Ct({troops:n.value,temperature:_.value,phase:o.value});n.value=Math.max(0,n.value-s.total),H.value.totalCasualties+=s.total;for(const x of Object.keys(t.newInfections))I.infected[x]=Math.max(0,I.infected[x]+t.newInfections[x]-t.recoveries[x]);I.healthy=Math.max(0,n.value-J.value),A.food=Math.max(0,A.food-p.food/10),A.ammunition=Math.max(0,A.ammunition-p.ammunition/10),A.medicine=Math.max(0,A.medicine-p.medicine/10),A.clothing=Math.max(0,A.clothing-p.clothing/10);const b=Ue({phase:o.value,temperature:_.value,troops:n.value,discipline:v.value,napoleonHealth:E.value});return v.value=Math.max(0,Math.min(100,v.value+b)),o.value==="RETREAT"&&(_.value+=O.RETREAT.TEMP_DECREASE_RATE,H.value.lowestTemp=Math.min(H.value.lowestTemp,_.value),_.value<0&&(E.value=Math.max(0,E.value-O.NAPOLEON_HEALTH.COLD_DAMAGE))),P.value++,B.value++,k.value={total:s.total,breakdown:s.breakdown,newInfections:Object.values(t.newInfections).reduce((x,$)=>x+$,0),recoveries:Object.values(t.recoveries).reduce((x,$)=>x+$,0),supplyConsumed:p},s}function _e(s){const t=wt[s];if(!t)return;const p={napoleonHealth:E.value,discipline:v.value,troops:n.value,supplies:{overall:F.value},phase:o.value,infectionRate:parseFloat(ee.value)},x=Pt(t,p,{cooldowns:ve,useCounts:ne});if(!x.canUse){oe(x.reason,"warning");return}if(t.effect.discipline&&(v.value=Math.max(0,Math.min(100,v.value+t.effect.discipline))),t.effect.napoleonHealth&&(E.value=Math.max(0,E.value+t.effect.napoleonHealth)),t.effect.troops&&(n.value=Math.max(0,n.value+t.effect.troops)),t.effect.marchDays&&($e.value+=t.effect.marchDays,P.value+=t.effect.marchDays),t.effect.supplies&&(A.food=Math.max(0,Math.min(100,A.food+t.effect.supplies))),t.effect.infectionRate)for(const $ of Object.keys(I.infected))I.infected[$]=Math.floor(I.infected[$]*t.effect.infectionRate);if(t.effect.recoveryRate){for(const $ of Object.keys(I.infected)){const mt=Math.floor(I.infected[$]*.1*t.effect.recoveryRate);I.infected[$]=Math.max(0,I.infected[$]-mt)}I.healthy=Math.max(0,n.value-J.value)}t.cooldown>0&&(ve[s]=t.cooldown),ne[s]=(ne[s]||0)+1,s==="napoleonInspire"&&j.value--,oe(`ä½¿ç”¨äº† ${t.name}ï¼`,"inspire"),C(`${t.icon} ${t.name}`,"event")}function ot(){ue.value=!1,U.value&&B.value>=U.value.days?Oe():Ee()}function pe(s){if(s.troops){const t=Math.abs(s.troops);n.value=Math.max(0,n.value+s.troops),H.value.totalCasualties+=t,ie(`${s.troops.toLocaleString()}`)}if(s.troopsPct){const t=Math.floor(n.value*Math.abs(s.troopsPct)/100);n.value=Math.max(0,n.value-t),H.value.totalCasualties+=t,ie(`-${y(t)}`)}s.discipline&&(v.value=Math.max(0,Math.min(100,v.value+s.discipline))),s.health&&(E.value=Math.max(0,E.value+s.health)),s.day&&(P.value+=s.day),s.temp&&(_.value+=s.temp,H.value.lowestTemp=Math.min(H.value.lowestTemp,_.value))}function Re(){const s={phase:o.value,temperature:_.value,discipline:v.value,troops:n.value,napoleonHealth:E.value};for(const t of Nt)if(t.trigger(s)){pe(t.effect),oe(t.message,"warning"),C(t.message,"event");break}}function Ee(){if(Q.value||d.value)return;const s={phase:o.value,temperature:_.value,discipline:v.value,troops:n.value,napoleonHealth:E.value},p=(o.value==="ADVANCE"?It:St).filter(b=>!(de.value.has(b.id)||!b.trigger(s)||Math.random()>b.probability));if(p.length>0){const b=p[Math.floor(Math.random()*p.length)];b.isAutoTrigger?(pe(b.effect),oe(b.message,"warning"),C(b.message,"event"),de.value.add(b.id)):d.value=b,Q.value=!0}}function be(s){const t=d.value,p=s==="A"?t.choiceA.effect:t.choiceB.effect;if(H.value.majorDecisions++,C(`${t.title}ï¼š${s==="A"?t.choiceA.label:t.choiceB.label}`,"event"),pe(p),de.value.add(t.id),d.value=null,n.value<=0){n.value=0,h.value="RESULT";return}o.value==="ADVANCE"?Ce():nt()}function nt(){if(Ie({napoleonHealth:E.value})&&!K.value&&(K.value=!0,C("çš‡å¸èº«ä½“çŠ¶å†µå±æ€¥ï¼","critical")),Le({discipline:v.value})){se.value=!0;return}if(T.value++,ae[T.value]&&(V.value=!0,setTimeout(()=>V.value=!1,5e3)),T.value>=M.length-1){h.value="RESULT",C("æ®‹å†›æ¸¡è¿‡æ¶…æ›¼æ²³...è¿œå¾ç»“æŸã€‚","critical");return}const s=M[T.value];s.event&&G[s.event]&&(f.value=G[s.event])}const ct=D(()=>((422e3-n.value)/422e3*100).toFixed(1));let W=null,g=null;function rt(){h.value="PLAY",o.value="ADVANCE",R.value=!1,B.value=0,C("å¤§å†›è·¨è¿‡æ¶…æ›¼æ²³ï¼Œå¼€å§‹è¿œå¾ï¼","important")}function ut(){if(m.value||f.value||d.value)return;R.value=!0;const s=it();if(ie(`-${y(s.total)}`,o.value==="ADVANCE"?"minor":"loss"),n.value<=0){n.value=0,R.value=!1,h.value="RESULT",C("å…¨å†›è¦†æ²¡...","critical");return}if(Le({discipline:v.value})){R.value=!1,se.value=!0;return}if(o.value==="RETREAT"&&Ie({napoleonHealth:E.value})&&!K.value){R.value=!1,K.value=!0,C("çš‡å¸èº«ä½“çŠ¶å†µå±æ€¥ï¼","critical");return}if(B.value%3===0||s.total>n.value*.02){ue.value=!0,R.value=!1;return}if(Re(),Ee(),d.value){R.value=!1;return}U.value&&B.value>=U.value.days&&Oe()}function Oe(){if(R.value=!1,B.value=0,o.value==="ADVANCE"){if(T.value++,T.value>=xe){ce.value=!0;return}oe(`æŠµè¾¾ ${X.value.name}ï¼`),C(`æŠµè¾¾${X.value.name}`,"move");const s=M[T.value];s.event&&G[s.event]&&(f.value=G[s.event]),ae[T.value]&&(V.value=!0,setTimeout(()=>V.value=!1,5e3))}else{if(T.value++,T.value>=M.length-1){h.value="RESULT",C("æ®‹å†›æ¸¡è¿‡æ¶…æ›¼æ²³...è¿œå¾ç»“æŸã€‚","critical");return}C(`æ’¤é€€è‡³${X.value.name}ï¼Œæ°”æ¸©${_.value}Â°C`,"move");const s=M[T.value];s.event&&G[s.event]&&(f.value=G[s.event]),ae[T.value]&&(V.value=!0,setTimeout(()=>V.value=!1,5e3))}}function Ce(){m.value=!0,Q.value=!1,W=setInterval(()=>{if(T.value>=xe){clearInterval(W),m.value=!1,ce.value=!0;return}T.value++,P.value++;const s=Be({phase:"ADVANCE",troops:n.value,temperature:_.value,discipline:v.value,napoleonHealth:E.value});if(n.value=Math.max(0,n.value-s),H.value.totalCasualties+=s,z.value.push(s),z.value.length>3&&z.value.shift(),ie(`-${y(s)}`,"minor"),oe(`æ”»å  ${X.value.name}ï¼`),C(`æŠµè¾¾${X.value.name}ï¼ŒæŸå¤±${y(s)}äºº`,"move"),v.value=Math.max(0,v.value+O.DISCIPLINE.ADVANCE_DECREASE),Re(),Ee(),d.value){clearInterval(W),m.value=!1;return}const t=M[T.value];t.event&&G[t.event]&&(clearInterval(W),m.value=!1,f.value=G[t.event])},1200)}function vt(){ce.value=!1,o.value="RETREAT",_.value=-5,P.value=7,v.value=Math.max(0,v.value-20),A.food=Math.max(0,A.food-30),A.clothing=Math.max(0,A.clothing-20),B.value=0,C("è«æ–¯ç§‘å¤§ç«ï¼è¢«è¿«æ’¤é€€ï¼","critical"),j.value=3,z.value=[],Q.value=!1}function Pe(){m.value=!0,Q.value=!1,g=setInterval(()=>{if(T.value>=M.length-1){clearInterval(g),g=null,m.value=!1,h.value="RESULT",C("æ®‹å†›æ¸¡è¿‡æ¶…æ›¼æ²³...è¿œå¾ç»“æŸã€‚","critical");return}_.value+=O.RETREAT.TEMP_DECREASE_RATE,H.value.lowestTemp=Math.min(H.value.lowestTemp,_.value),P.value++;const s=at();n.value=Math.max(0,n.value-s),H.value.totalCasualties+=s,_.value<-10&&(I.infected.frostbite+=Math.floor(n.value*.02)),z.value.push(s),z.value.length>3&&z.value.shift(),ie(`-${y(s)}`);const t=Ue({phase:o.value,temperature:_.value,troops:n.value,discipline:v.value,napoleonHealth:E.value});if(v.value=Math.max(0,v.value+t),_.value<0&&(E.value=Math.max(0,E.value-O.NAPOLEON_HEALTH.COLD_DAMAGE)),A.food=Math.max(0,A.food-2),A.clothing=Math.max(0,A.clothing-1),A.medicine=Math.max(0,A.medicine-1),T.value++,C(`æ’¤é€€è‡³${X.value.name}ï¼Œæ°”æ¸©${_.value}Â°Cï¼ŒæŸå¤±${y(s)}äºº`,"move"),n.value<=0){clearInterval(g),g=null,n.value=0,m.value=!1,h.value="RESULT",C("å…¨å†›è¦†æ²¡...","critical");return}if(Re(),Ee(),d.value){clearInterval(g),g=null,m.value=!1;return}if(Ie({napoleonHealth:E.value})&&!K.value){clearInterval(g),g=null,m.value=!1,K.value=!0,C("çš‡å¸èº«ä½“çŠ¶å†µå±æ€¥ï¼","critical");return}if(Le({discipline:v.value})){clearInterval(g),g=null,m.value=!1,se.value=!0;return}ae[T.value]&&(V.value=!0,setTimeout(()=>V.value=!1,5e3));const p=M[T.value];p.event&&G[p.event]&&(clearInterval(g),g=null,m.value=!1,f.value=G[p.event])},1500)}function ge(s){const t=f.value,p=s==="A"?t.choiceA.effect:t.choiceB.effect;if(H.value.majorDecisions++,t.type==="battle"&&H.value.battles++,C(`${t.title}ï¼š${s==="A"?t.choiceA.label:t.choiceB.label}`,"event"),pe(p),f.value=null,Q.value=!1,n.value<=0){n.value=0,h.value="RESULT";return}o.value==="ADVANCE"?Ce():Pe()}function dt(){const s=Math.floor(n.value*.15);if(n.value-=s,H.value.totalCasualties+=s,v.value=40,ie(`-${y(s)} å“—å˜`),C("å“—å˜å¹³æ¯ï¼Œä½†æŸå¤±æƒ¨é‡","critical"),se.value=!1,n.value<=0){n.value=0,h.value="RESULT";return}o.value==="RETREAT"&&Pe()}const ft=D(()=>n.value>=O.ENDING_THRESHOLDS.S_RANK?"å¸å›½ä½™æ™–":n.value>=O.ENDING_THRESHOLDS.A_RANK?"å†å²é‡ç°":n.value>=O.ENDING_THRESHOLDS.B_RANK?"æƒ¨é‡ä»£ä»·":"å…¨å†›è¦†æ²¡"),ht=D(()=>n.value>=O.ENDING_THRESHOLDS.S_RANK?"å†›äº‹å¥‡è¿¹":n.value>=O.ENDING_THRESHOLDS.A_RANK?"ä¸æ‹¿ç ´ä»‘ç›¸å½“":n.value>=O.ENDING_THRESHOLDS.B_RANK?"æ¯”å†å²æ›´ç³Ÿ":"æ³•å…°è¥¿çš„æ‚²å‰§"),pt=D(()=>n.value>=O.ENDING_THRESHOLDS.S_RANK?"ä½ åšåˆ°äº†ä¸å¯èƒ½çš„äº‹ã€‚å³ä½¿æ˜¯ä½ ï¼Œä¹Ÿåªèƒ½ä¿ä¸‹è¿™äº›äººã€‚ä½†æ‹¿ç ´ä»‘å¸å›½çš„å‘½è¿å·²ç»æ³¨å®šã€‚":n.value>=O.ENDING_THRESHOLDS.A_RANK?"ä½ å°½åŠ›äº†ã€‚è¿™ä¸æ‹¿ç ´ä»‘æœ¬äººçš„ç»“æœç›¸å·®æ— å‡ ï¼Œè¯æ˜äº†åœ¨ä¿„å›½çš„å†¬å¤©é¢å‰ï¼ŒäººåŠ›æ˜¯å¤šä¹ˆæ¸ºå°ã€‚":n.value>=O.ENDING_THRESHOLDS.B_RANK?"ä½ çš„æŸå¤±ç”šè‡³è¶…è¿‡äº†å†å²ä¸Šçš„æ‹¿ç ´ä»‘ã€‚è¿™åœºç¾éš¾å°†æ°¸è¿œæ”¹å˜æ¬§æ´²çš„æ ¼å±€ã€‚":"å³ä½¿æ˜¯ä½ ï¼Œä¹Ÿæ— æ³•æˆ˜èƒœä¿„ç½—æ–¯çš„å†¬å¤©ã€‚422,000åæ³•å…°è¥¿çš„å¹´è½»äººï¼Œæ¶ˆå¤±åœ¨æ— å°½çš„é›ªåŸä¸­ã€‚");function Et(){W&&clearInterval(W),g&&clearInterval(g),W=null,g=null,n.value=422e3,v.value=100,E.value=100,_.value=22,P.value=0,T.value=0,o.value="ADVANCE",R.value=!1,B.value=0,A.food=100,A.ammunition=100,A.medicine=100,A.clothing=100,I.healthy=38e4,I.infected.typhus=3e4,I.infected.dysentery=1e4,I.infected.frostbite=0,I.infected.starvation=2e3,Object.keys(ve).forEach(s=>delete ve[s]),Object.keys(ne).forEach(s=>delete ne[s]),re.value=[],fe.value=[],f.value=null,d.value=null,ce.value=!1,se.value=!1,K.value=!1,ue.value=!1,V.value=!1,j.value=3,z.value=[],Q.value=!1,de.value=new Set,H.value={majorDecisions:0,battles:0,lowestTemp:22,totalCasualties:0},h.value="INTRO"}function He(){i.push("/")}function At(){K.value=!1,o.value==="RETREAT"&&R.value}return _t(()=>{W&&clearInterval(W),g&&clearInterval(g)}),(s,t)=>(c(),r("div",{class:S(["game-container",[Xe.value,{shaking:N.value}]])},[t[66]||(t[66]=e("div",{class:"layer-0-background"},null,-1)),e("div",Bt,[h.value!=="INTRO"?(c(),r("div",Ut,[e("div",xt,[t[8]||(t[8]=e("span",{class:"hud-icon"},"âš”ï¸",-1)),e("div",Vt,[t[7]||(t[7]=e("span",{class:"hud-label"},"å…µåŠ›",-1)),e("span",$t,l(y(n.value)),1),e("div",{class:S(["hp-bar",ze.value])},[e("div",{class:"hp-fill",style:w({width:te.value+"%"})},null,4)],2)])]),e("div",Yt,[t[10]||(t[10]=e("span",{class:"hud-icon"},"ğŸ“",-1)),e("div",Gt,[t[9]||(t[9]=e("span",{class:"hud-label"},"çºªå¾‹",-1)),e("span",{class:S(["hud-value",{danger:v.value<30,warning:v.value<50&&v.value>=30}])},l(v.value),3),e("div",{class:S(["stat-bar discipline",{low:v.value<50,critical:v.value<30}])},[e("div",{class:"stat-fill",style:w({width:v.value+"%"})},null,4)],2)])]),e("div",Ft,[t[12]||(t[12]=e("span",{class:"hud-icon"},"ğŸ‘‘",-1)),e("div",Kt,[t[11]||(t[11]=e("span",{class:"hud-label"},"çš‡å¸",-1)),e("span",{class:S(["hud-value",{danger:E.value<30,warning:E.value<50&&E.value>=30}])},l(E.value),3),e("div",{class:S(["stat-bar health",{low:E.value<50,critical:E.value<30}])},[e("div",{class:"stat-fill",style:w({width:E.value+"%"})},null,4)],2)])]),e("div",Wt,[t[14]||(t[14]=e("span",{class:"hud-icon"},"ğŸ“¦",-1)),e("div",qt,[t[13]||(t[13]=e("span",{class:"hud-label"},"è¡¥ç»™",-1)),e("span",{class:S(["hud-value",{danger:F.value<30,warning:F.value<50&&F.value>=30}])},l(F.value)+"%",3),e("div",{class:S(["stat-bar supply",{low:F.value<50,critical:F.value<30}])},[e("div",{class:"stat-fill",style:w({width:F.value+"%"})},null,4)],2)])]),e("div",jt,[t[16]||(t[16]=e("span",{class:"hud-icon"},"ğŸ¦ ",-1)),e("div",zt,[t[15]||(t[15]=e("span",{class:"hud-label"},"æ„ŸæŸ“",-1)),e("span",{class:S(["hud-value",{danger:ee.value>30,warning:ee.value>15}])},l(ee.value)+"%",3)])]),e("div",Xt,[t[18]||(t[18]=e("span",{class:"hud-icon"},"ğŸŒ¡ï¸",-1)),e("div",Zt,[t[17]||(t[17]=e("span",{class:"hud-label"},"æ°”æ¸©",-1)),e("span",{class:S(["hud-value",{frozen:_.value<0,extreme:_.value<-20}])},l(_.value)+"Â°C",3)])]),e("div",Qt,[t[20]||(t[20]=e("span",{class:"hud-icon"},"ğŸ“…",-1)),e("div",Jt,[t[19]||(t[19]=e("span",{class:"hud-label"},"æ—¥æœŸ",-1)),e("span",ea,l(Ne.value),1)])]),e("div",ta,[e("span",{class:S(["badge",o.value])},l(o.value==="ADVANCE"?"è¿›æ”»":"æ’¤é€€"),3)])])):u("",!0),h.value==="PLAY"?(c(),Rt(ke,{key:1,name:"warning",tag:"div",class:"warning-banners"},{default:Y(()=>[v.value<30?(c(),r("div",aa," âš ï¸ çºªå¾‹å´©æºƒï¼éšæ—¶å¯èƒ½å‘ç”Ÿå“—å˜ï¼ ")):u("",!0),E.value<20&&E.value>0?(c(),r("div",la," ğŸ‘‘ çš‡å¸ç—…å±ï¼å†›å¿ƒæ¶£æ•£ï¼ ")):u("",!0),_.value<-25?(c(),r("div",sa," â„ï¸ æå¯’ï¼å£«å…µæˆæ‰¹å†»æ­»ï¼ ")):u("",!0),n.value<5e4&&n.value>0?(c(),r("div",ia," ğŸ’€ å…µåŠ›ä¸è¶³5ä¸‡ï¼å†›é˜Ÿæ¿’ä¸´å´©æºƒï¼ ")):u("",!0),ee.value>25?(c(),r("div",oa," ğŸ¦  ç–«æƒ…ä¸¥é‡ï¼æ„ŸæŸ“ç‡è¶…è¿‡25%ï¼ ")):u("",!0),F.value<30?(c(),r("div",na," ğŸ“¦ è¡¥ç»™å‘Šæ€¥ï¼å£«å…µå¼€å§‹æŒ¨é¥¿ï¼ ")):u("",!0)]),_:1})):u("",!0),h.value!=="INTRO"&&h.value!=="RESULT"?(c(),r("div",ca,[(c(),r("svg",ra,[e("path",{d:qe.value,class:"route-base",fill:"none",stroke:"#333","stroke-width":"6"},null,8,ua),e("path",{d:je.value,class:S(["route-traveled",o.value]),fill:"none","stroke-width":"5"},null,10,va),(c(),r(Te,null,ye(M,(p,b)=>e("g",{key:p.id},[e("circle",{cx:p.x,cy:p.y,r:b===T.value?14:8,class:S(["node",st(b)])},null,10,da),e("text",{x:p.x,y:p.y+28,"text-anchor":"middle",class:S(["node-name",{active:b===T.value}])},l(p.name),11,fa)])),64)),e("g",{class:"napoleon",style:w({transform:`translate(${Ke.value}px, ${We.value-35}px)`})},[...t[21]||(t[21]=[e("text",{x:"0",y:"0","text-anchor":"middle","font-size":"28"},"ğŸ¦…",-1)])],4)]))])):u("",!0),h.value!=="INTRO"&&h.value!=="RESULT"?(c(),r("div",{key:3,class:S(["log-panel",Je.value])},[t[31]||(t[31]=e("h3",null,"ğŸ“œ è¡Œå†›æ—¥å¿—",-1)),e("div",ha,[(c(!0),r(Te,null,ye(re.value,(p,b)=>(c(),r("div",{key:b,class:S(["log-item",p.type])},[e("span",pa,l(p.date),1),e("p",Ea,l(p.text),1)],2))),128))]),R.value&&U.value?(c(),r("div",Aa,[t[22]||(t[22]=e("h4",null,"ğŸš¶ è¡Œå†›ä¸­",-1)),e("p",ma,l(U.value.from)+" â†’ "+l(U.value.to),1),e("div",_a,[e("div",{class:"progress-fill",style:w({width:Fe.value+"%"})},null,4)]),e("p",Ra,"ç¬¬ "+l(B.value)+" / "+l(U.value.days)+" å¤©",1)])):u("",!0),e("div",Ta,[e("h4",null,"ğŸ“ "+l(X.value.name),1),e("p",null,l(X.value.desc),1)]),e("div",ya,[t[25]||(t[25]=e("h4",null,"ğŸ¥ å†›é˜ŸçŠ¶å†µ",-1)),e("div",La,[t[23]||(t[23]=e("span",null,"å¥åº·:",-1)),e("span",null,l(y(Ye.value))+" ("+l(Ge.value)+"%)",1)]),e("div",Ia,[t[24]||(t[24]=e("span",null,"æ„ŸæŸ“:",-1)),e("span",Sa,l(y(J.value))+" ("+l(ee.value)+"%)",1)]),J.value>0?(c(),r("div",Na,[I.infected.typhus>0?(c(),r("span",Da,"ğŸ¦  ä¼¤å¯’: "+l(y(I.infected.typhus)),1)):u("",!0),I.infected.dysentery>0?(c(),r("span",Ma,"ğŸ’§ ç—¢ç–¾: "+l(y(I.infected.dysentery)),1)):u("",!0),I.infected.frostbite>0?(c(),r("span",ba,"â„ï¸ å†»ä¼¤: "+l(y(I.infected.frostbite)),1)):u("",!0),I.infected.starvation>0?(c(),r("span",Oa,"ğŸ é¥¥é¥¿: "+l(y(I.infected.starvation)),1)):u("",!0)])):u("",!0)]),e("div",Ca,[t[30]||(t[30]=e("h4",null,"ğŸ“¦ è¡¥ç»™çŠ¶å†µ",-1)),e("div",Pa,[t[26]||(t[26]=e("span",null,"ğŸ é£Ÿç‰©:",-1)),e("div",ga,[e("div",{class:"mini-fill food",style:w({width:A.food+"%"})},null,4)]),e("span",{class:S({critical:A.food<30})},l(A.food)+"%",3)]),e("div",Ha,[t[27]||(t[27]=e("span",null,"ğŸ”« å¼¹è¯:",-1)),e("div",ka,[e("div",{class:"mini-fill ammo",style:w({width:A.ammunition+"%"})},null,4)]),e("span",null,l(A.ammunition)+"%",1)]),e("div",wa,[t[28]||(t[28]=e("span",null,"ğŸ’Š è¯å“:",-1)),e("div",Ba,[e("div",{class:"mini-fill medicine",style:w({width:A.medicine+"%"})},null,4)]),e("span",{class:S({critical:A.medicine<30})},l(A.medicine)+"%",3)]),e("div",Ua,[t[29]||(t[29]=e("span",null,"ğŸ§¥ è¡£ç‰©:",-1)),e("div",xa,[e("div",{class:"mini-fill clothing",style:w({width:A.clothing+"%"})},null,4)]),e("span",{class:S({critical:A.clothing<30&&o.value==="RETREAT"})},l(A.clothing)+"%",3)])]),h.value==="PLAY"&&!m.value&&!f.value&&!d.value?(c(),r("div",Va,[e("button",{class:"btn-march",onClick:ut},l(o.value==="ADVANCE"?"ğŸš¶ ç»§ç»­è¡Œå†›":"â† ç»§ç»­æ’¤é€€"),1),e("p",$a,"é¢„è®¡æ¯æ—¥æŸå¤±: "+l(y(lt()))+" äºº",1),e("button",{class:"btn-rest",onClick:t[0]||(t[0]=p=>_e("restAndRecover"))}," ğŸ•ï¸ æ‰è¥ä¼‘æ•´ (+1å¤©) "),E.value>30&&j.value>0?(c(),r("button",{key:0,class:"btn-inspire",onClick:t[1]||(t[1]=p=>_e("napoleonInspire"))}," ğŸ‘‘ çš‡å¸æ¿€åŠ± (å‰©ä½™"+l(j.value)+"æ¬¡) ",1)):u("",!0),ee.value>10?(c(),r("button",{key:1,class:"btn-quarantine",onClick:t[2]||(t[2]=p=>_e("quarantine"))}," ğŸ¥ éš”ç¦»ç—…æ‚£ ")):u("",!0)])):u("",!0),m.value?(c(),r("div",Ya,"è¡Œå†›ä¸­...")):u("",!0)],2)):u("",!0)]),e("div",Ga,[t[32]||(t[32]=e("div",{class:"vignette"},null,-1)),o.value==="RETREAT"?(c(),r("div",{key:0,class:"snow-overlay",style:w({opacity:Ze.value})},null,4)):u("",!0),e("div",{class:"frost-frame",style:w({opacity:Qe.value})},null,4),q(ke,{name:"dmg",tag:"div",class:"damage-numbers"},{default:Y(()=>[(c(!0),r(Te,null,ye(fe.value,p=>(c(),r("div",{key:p.id,class:S(["dmg-text",p.type]),style:w({left:p.x+"px",top:p.y+"px"})},l(p.text),7))),128))]),_:1}),q(Z,{name:"toast"},{default:Y(()=>[he.value?(c(),r("div",{key:0,class:S(["toast",Me.value])},l(he.value),3)):u("",!0)]),_:1})]),e("div",Fa,[h.value==="INTRO"?(c(),r("div",Ka,[e("div",{class:"intro-card"},[t[33]||(t[33]=e("h1",null,"1812",-1)),t[34]||(t[34]=e("h2",null,"ç»æœ›çš„è¡Œå†›",-1)),t[35]||(t[35]=e("p",{class:"tagline"},"La Grande ArmÃ©e",-1)),t[36]||(t[36]=e("div",{class:"intro-body"},[e("p",null,"1812å¹´6æœˆï¼Œä½ ç‡é¢†422,000åå£«å…µè·¨è¿‡æ¶…æ›¼æ²³ã€‚"),e("p",null,"ç›®æ ‡ï¼šæ”»å è«æ–¯ç§‘ï¼Œè¿«ä½¿æ²™çš‡æ±‚å’Œã€‚"),e("p",{class:"warning"},"ç„¶è€Œï¼Œä¿„å›½çš„å†¬å¤©æ­£åœ¨ç­‰å¾…...")],-1)),e("button",{class:"btn-start",onClick:rt},"å¼€å§‹è¿œå¾"),e("button",{class:"btn-home",onClick:He},"è¿”å›é¦–é¡µ")])])):u("",!0),q(Z,{name:"modal"},{default:Y(()=>[ce.value?(c(),r("div",Wa,[e("div",{class:"event-modal moscow"},[t[37]||(t[37]=e("div",{class:"modal-icon"},"ğŸ”¥",-1)),t[38]||(t[38]=e("h2",null,"è«æ–¯ç§‘åœ¨ç‡ƒçƒ§",-1)),t[39]||(t[39]=e("p",null,"1812å¹´9æœˆ14æ—¥ï¼Œä½ ç»ˆäºè¿›å…¥è«æ–¯ç§‘...",-1)),t[40]||(t[40]=e("p",{class:"highlight"},"ä½†åŸå¸‚æ˜¯ç©ºçš„ã€‚æ²™çš‡æ‹’ç»æŠ•é™ã€‚",-1)),t[41]||(t[41]=e("p",{class:"dramatic"},"ç«ç„°ä»å››é¢å…«æ–¹å‡èµ·ï¼ä¿„å›½äººçƒ§æ¯äº†è‡ªå·±çš„é¦–éƒ½ï¼",-1)),t[42]||(t[42]=e("p",null,"æ‰€æœ‰è¡¥ç»™åŒ–ä¸ºç°çƒ¬ã€‚å†¬å¤©å³å°†æ¥ä¸´ã€‚",-1)),e("button",{class:"btn-confirm",onClick:vt},"å¼€å§‹æ’¤é€€")])])):u("",!0)]),_:1}),q(Z,{name:"modal"},{default:Y(()=>[f.value?(c(),r("div",{key:0,class:S(["event-overlay",`event-type-${f.value.type}`])},[e("div",{class:S(["event-modal",f.value.type])},[e("div",qa,l(f.value.icon),1),e("h2",null,l(f.value.title),1),e("p",ja,l(f.value.story),1),f.value.historicalNote?(c(),r("p",za,"ğŸ“œ "+l(f.value.historicalNote),1)):u("",!0),e("div",Xa,[e("button",{class:"choice choice-a",onClick:t[3]||(t[3]=p=>ge("A"))},[e("strong",null,l(f.value.choiceA.label),1),e("div",Za,[f.value.choiceA.effect.troops?(c(),r("span",Qa,"âš”ï¸ "+l(f.value.choiceA.effect.troops>0?"+":"")+l(y(f.value.choiceA.effect.troops)),1)):u("",!0),f.value.choiceA.effect.troopsPct?(c(),r("span",Ja,"âš”ï¸ "+l(f.value.choiceA.effect.troopsPct)+"%",1)):u("",!0),f.value.choiceA.effect.discipline?(c(),r("span",el,"ğŸ“ "+l(f.value.choiceA.effect.discipline>0?"+":"")+l(f.value.choiceA.effect.discipline),1)):u("",!0),f.value.choiceA.effect.health?(c(),r("span",tl,"ğŸ‘‘ "+l(f.value.choiceA.effect.health>0?"+":"")+l(f.value.choiceA.effect.health),1)):u("",!0),f.value.choiceA.effect.day?(c(),r("span",al,"â±ï¸ +"+l(f.value.choiceA.effect.day)+"å¤©",1)):u("",!0)]),e("span",ll,l(f.value.choiceA.hint),1)]),e("button",{class:"choice choice-b",onClick:t[4]||(t[4]=p=>ge("B"))},[e("strong",null,l(f.value.choiceB.label),1),e("div",sl,[f.value.choiceB.effect.troops?(c(),r("span",il,"âš”ï¸ "+l(f.value.choiceB.effect.troops>0?"+":"")+l(y(f.value.choiceB.effect.troops)),1)):u("",!0),f.value.choiceB.effect.troopsPct?(c(),r("span",ol,"âš”ï¸ "+l(f.value.choiceB.effect.troopsPct)+"%",1)):u("",!0),f.value.choiceB.effect.discipline?(c(),r("span",nl,"ğŸ“ "+l(f.value.choiceB.effect.discipline>0?"+":"")+l(f.value.choiceB.effect.discipline),1)):u("",!0),f.value.choiceB.effect.health?(c(),r("span",cl,"ğŸ‘‘ "+l(f.value.choiceB.effect.health>0?"+":"")+l(f.value.choiceB.effect.health),1)):u("",!0),f.value.choiceB.effect.day?(c(),r("span",rl,"â±ï¸ +"+l(f.value.choiceB.effect.day)+"å¤©",1)):u("",!0)]),e("span",ul,l(f.value.choiceB.hint),1)])])],2)],2)):u("",!0)]),_:1}),q(Z,{name:"modal"},{default:Y(()=>[d.value?(c(),r("div",{key:0,class:S(["event-overlay",`event-type-${d.value.type}`])},[e("div",{class:S(["event-modal",d.value.type])},[t[43]||(t[43]=e("div",{class:"event-badge"},"éšæœºäº‹ä»¶",-1)),e("div",vl,l(d.value.icon),1),e("h2",null,l(d.value.title),1),e("p",dl,l(d.value.story),1),d.value.historicalNote?(c(),r("p",fl,"ğŸ“œ "+l(d.value.historicalNote),1)):u("",!0),e("div",hl,[e("button",{class:"choice choice-a",onClick:t[5]||(t[5]=p=>be("A"))},[e("strong",null,l(d.value.choiceA.label),1),e("div",pl,[d.value.choiceA.effect.troops?(c(),r("span",El,"âš”ï¸ "+l(d.value.choiceA.effect.troops>0?"+":"")+l(y(d.value.choiceA.effect.troops)),1)):u("",!0),d.value.choiceA.effect.troopsPct?(c(),r("span",Al,"âš”ï¸ "+l(d.value.choiceA.effect.troopsPct)+"%",1)):u("",!0),d.value.choiceA.effect.discipline?(c(),r("span",ml,"ğŸ“ "+l(d.value.choiceA.effect.discipline>0?"+":"")+l(d.value.choiceA.effect.discipline),1)):u("",!0),d.value.choiceA.effect.health?(c(),r("span",_l,"ğŸ‘‘ "+l(d.value.choiceA.effect.health>0?"+":"")+l(d.value.choiceA.effect.health),1)):u("",!0),d.value.choiceA.effect.day?(c(),r("span",Rl,"â±ï¸ +"+l(d.value.choiceA.effect.day)+"å¤©",1)):u("",!0)]),e("span",Tl,l(d.value.choiceA.hint),1)]),e("button",{class:"choice choice-b",onClick:t[6]||(t[6]=p=>be("B"))},[e("strong",null,l(d.value.choiceB.label),1),e("div",yl,[d.value.choiceB.effect.troops?(c(),r("span",Ll,"âš”ï¸ "+l(d.value.choiceB.effect.troops>0?"+":"")+l(y(d.value.choiceB.effect.troops)),1)):u("",!0),d.value.choiceB.effect.troopsPct?(c(),r("span",Il,"âš”ï¸ "+l(d.value.choiceB.effect.troopsPct)+"%",1)):u("",!0),d.value.choiceB.effect.discipline?(c(),r("span",Sl,"ğŸ“ "+l(d.value.choiceB.effect.discipline>0?"+":"")+l(d.value.choiceB.effect.discipline),1)):u("",!0),d.value.choiceB.effect.health?(c(),r("span",Nl,"ğŸ‘‘ "+l(d.value.choiceB.effect.health>0?"+":"")+l(d.value.choiceB.effect.health),1)):u("",!0),d.value.choiceB.effect.day?(c(),r("span",Dl,"â±ï¸ +"+l(d.value.choiceB.effect.day)+"å¤©",1)):u("",!0)]),e("span",Ml,l(d.value.choiceB.hint),1)])])],2)],2)):u("",!0)]),_:1}),q(Z,{name:"modal"},{default:Y(()=>[se.value?(c(),r("div",bl,[e("div",{class:"event-modal critical"},[t[44]||(t[44]=e("div",{class:"modal-icon"},"âš ï¸",-1)),t[45]||(t[45]=e("h2",null,"å“—å˜ï¼",-1)),t[46]||(t[46]=e("p",{class:"dramatic"},"çºªå¾‹å´©æºƒï¼å£«å…µä»¬å¼€å§‹äº’ç›¸æŠ¢åŠ«ï¼Œç”šè‡³æ”»å‡»å†›å®˜ï¼",-1)),t[47]||(t[47]=e("p",null,"æ··ä¹±ä¸­ï¼Œå¤§é‡å£«å…µé€ƒæ•£æˆ–è¢«æ€ã€‚",-1)),e("button",{class:"btn-confirm",onClick:dt},"è‰°éš¾æ¢å¤ç§©åº")])])):u("",!0)]),_:1}),q(Z,{name:"modal"},{default:Y(()=>[K.value?(c(),r("div",Ol,[e("div",{class:"event-modal critical"},[t[48]||(t[48]=e("div",{class:"modal-icon"},"ğŸ‘‘",-1)),t[49]||(t[49]=e("h2",null,"çš‡å¸ç—…å€’äº†ï¼",-1)),t[50]||(t[50]=e("p",{class:"dramatic"},"æ‹¿ç ´ä»‘å› ä¸¥å¯’å’Œç–²åŠ³ç—…å€’ï¼Œæ— æ³•ç»§ç»­æŒ‡æŒ¥ã€‚",-1)),t[51]||(t[51]=e("p",null,"å£«æ°”æ€¥å‰§ä¸‹é™ï¼Œå†›é˜Ÿé™·å…¥æ··ä¹±ã€‚",-1)),e("button",{class:"btn-confirm",onClick:At},"ç»§ç»­æ’¤é€€")])])):u("",!0)]),_:1}),q(Z,{name:"modal"},{default:Y(()=>{var p,b;return[ue.value?(c(),r("div",Cl,[e("div",Pl,[t[58]||(t[58]=e("div",{class:"modal-icon"},"ğŸ“‹",-1)),e("h2",null,"ç¬¬ "+l(B.value)+" å¤©æŠ¥å‘Š",1),e("div",gl,[e("div",Hl,[e("h4",null,"ğŸ’€ ä»Šæ—¥æŸå¤±: "+l(y(k.value.total))+" äºº",1),e("div",kl,[k.value.breakdown.disease>0?(c(),r("div",wl,[t[52]||(t[52]=e("span",null,"ğŸ¦  ç–¾ç—…:",-1)),e("span",null,l(y(k.value.breakdown.disease)),1)])):u("",!0),k.value.breakdown.environment>0?(c(),r("div",Bl,[t[53]||(t[53]=e("span",null,"â„ï¸ ç¯å¢ƒ:",-1)),e("span",null,l(y(k.value.breakdown.environment)),1)])):u("",!0),k.value.breakdown.desertion>0?(c(),r("div",Ul,[t[54]||(t[54]=e("span",null,"ğŸƒ é€ƒå…µ:",-1)),e("span",null,l(y(k.value.breakdown.desertion)),1)])):u("",!0),k.value.breakdown.other>0?(c(),r("div",xl,[t[55]||(t[55]=e("span",null,"âš”ï¸ å…¶ä»–:",-1)),e("span",null,l(y(k.value.breakdown.other)),1)])):u("",!0)])]),k.value.newInfections?(c(),r("div",Vl,[t[56]||(t[56]=e("h4",null,"ğŸ¦  ç–¾ç—…çŠ¶å†µ",-1)),e("p",null,"æ–°å¢æ„ŸæŸ“: "+l(y(k.value.newInfections))+" äºº",1),e("p",null,"åº·å¤: "+l(y(k.value.recoveries))+" äºº",1)])):u("",!0),e("div",$l,[t[57]||(t[57]=e("h4",null,"ğŸ“¦ è¡¥ç»™æ¶ˆè€—",-1)),e("p",null,"é£Ÿç‰©: -"+l(((b=(p=k.value.supplyConsumed)==null?void 0:p.food)==null?void 0:b.toFixed(1))||0)+"%",1)])]),e("button",{class:"btn-confirm",onClick:ot},"ç»§ç»­è¡Œå†›")])])):u("",!0)]}),_:1}),q(Z,{name:"comparison"},{default:Y(()=>[V.value&&le.value?(c(),r("div",{key:0,class:S(["comparison-tooltip",De.value])},[e("div",Yl,[t[59]||(t[59]=e("span",{class:"comparison-icon"},"ğŸ“Š",-1)),e("div",Gl,[e("p",Fl,l(et.value),1),e("p",Kl,[yt(" ä½ çš„å…µåŠ›: "+l(y(n.value))+" ",1),e("span",{class:S(De.value)},"("+l(n.value>le.value?"+":"")+l(y(n.value-le.value))+")",3)])])])],2)):u("",!0)]),_:1}),h.value==="RESULT"?(c(),r("div",Wl,[e("div",ql,[e("h1",null,l(ft.value),1),e("p",jl,l(ht.value),1),e("div",zl,[t[62]||(t[62]=e("div",{class:"stat-row"},[e("span",null,"å‡ºå‘"),e("span",null,"422,000")],-1)),e("div",Xl,[t[60]||(t[60]=e("span",null,"å½’æ¥",-1)),e("span",{class:S({zero:n.value===0})},l(y(n.value)),3)]),e("div",Zl,[t[61]||(t[61]=e("span",null,"æŸå¤±",-1)),e("span",Ql,l(ct.value)+"%",1)])]),e("p",Jl,l(pt.value),1),e("div",es,[t[64]||(t[64]=e("h4",null,"ä¸å†å²å¯¹æ¯”",-1)),e("div",ts,[t[63]||(t[63]=e("span",null,"ä½ ",-1)),e("div",as,[e("div",{class:"fill you",style:w({width:Math.max(1,te.value)+"%"})},null,4)]),e("span",null,l(y(n.value)),1)]),t[65]||(t[65]=e("div",{class:"bar-row"},[e("span",null,"å†å²"),e("div",{class:"bar"},[e("div",{class:"fill history",style:{width:"2.4%"}})]),e("span",null,"~10,000")],-1))]),e("div",{class:"result-btns"},[e("button",{onClick:Et},"å†è¯•ä¸€æ¬¡"),e("button",{class:"secondary",onClick:He},"è¿”å›é¦–é¡µ")])])])):u("",!0)])],2))}},os=Lt(ls,[["__scopeId","data-v-75cf6063"]]);export{os as default};
